import{B as t}from"./constants-BpVlFj04.js";import{R as e}from"./ResizeSensor-ZXOsDHeC.js";import{u as o}from"./useAllComponentsMounted-RTvHVD2I.js";import{I as s,r as n}from"./index-DY0DW88M.js";import l from"./icon-next-CI-_n-sg.js";import{n as r}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import"./DataSyncService-BnTv72BN.js";import"./Logger-CErMjlBd.js";import"./style-cpFB66wV.js";const i=r(s({name:"OverflowCarousel",directives:{ResizeSensor:e},props:{direction:{type:String,default:t.Column},contentReady:{type:Boolean,default:!0},startScrollFromEnd:{type:Boolean,default:!1}},setup:()=>({...o({onAllComponentsMountedOverride(){}}),carouselContent:n(),scrollContainerDebounce:void 0}),data:()=>({scrollPosition:0,scrollLength:0,containerLength:0}),computed:{isColumn(){return this.direction===t.Column},isOverflowing(){return this.scrollLength>this.containerLength},disablePrevious(){return this.scrollPosition<=0},disableNext(){return this.scrollPosition>=this.scrollLength-this.containerLength}},watch:{contentReady(){this.contentReady&&this.emitComponentMounted()}},async mounted(){this.startScrollFromEnd&&this.updateScrollAndContainerValues()},methods:{resetScroll(){var t;null==(t=this.carouselContent)||t.scroll({left:0,top:0,behavior:"instant"}),this.debounceUpdateScrollAndContainerValues()},updateScrollAndContainerValues(){if(!this.carouselContent)return;const t=this.isColumn?"clientHeight":"clientWidth",e=this.isColumn?"scrollTop":"scrollLeft",o=this.isColumn?"scrollHeight":"scrollWidth";this.containerLength=this.carouselContent[t]+1,this.scrollLength=this.carouselContent[o],this.scrollPosition=this.startScrollFromEnd?this.scrollLength-this.containerLength+this.carouselContent[e]:this.carouselContent[e]},debounceUpdateScrollAndContainerValues(){this.scrollContainerDebounce||this.updateScrollAndContainerValues(),clearTimeout(this.scrollContainerDebounce),this.scrollContainerDebounce=setTimeout((()=>{this.updateScrollAndContainerValues()}),100)},scroll(t=!0){if(!this.carouselContent)return;const e=this.isColumn?"scrollTop":"scrollLeft",o=this.carouselContent[e]+(t?-1:1)*this.containerLength;this.carouselContent.scroll({left:this.isColumn?0:o,top:this.isColumn?o:0,behavior:"smooth"})},verticalRowScroll(t){var e;this.isColumn||Math.abs(t.deltaX)>Math.abs(t.deltaY)||(t.preventDefault(),null==(e=this.carouselContent)||e.scrollBy({left:t.deltaY,behavior:"auto"}))}}}),(function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"overflow-carousel",class:[t.direction]},[t.isOverflowing?e("button",{staticClass:"carousel-button previous",class:[t.direction,{disabled:t.disablePrevious}],attrs:{id:"overflow-carousel-left"},on:{click:function(e){return t.scroll(!0)}}},[e("inline-svg",{staticClass:"icon dash-icon",attrs:{src:l}})],1):t._e(),e("div",{directives:[{name:"resize-sensor",rawName:"v-resize-sensor",value:t.debounceUpdateScrollAndContainerValues,expression:"debounceUpdateScrollAndContainerValues"}],ref:"carouselContent",staticClass:"carousel-content",class:{"prev-disabled":t.disablePrevious,"next-disabled":t.disableNext,"start-scroll-from-end":t.startScrollFromEnd},on:{scroll:t.debounceUpdateScrollAndContainerValues,wheel:t.verticalRowScroll}},[t._t("default")],2),t.isOverflowing?e("button",{staticClass:"carousel-button next",class:[t.direction,{disabled:t.disableNext}],attrs:{id:"overflow-carousel-right"},on:{click:function(e){return t.scroll(!1)}}},[e("inline-svg",{staticClass:"icon dash-icon",attrs:{src:l}})],1):t._e()])}),[],!1,null,"889f09c3").exports;export{i as default};