const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/Utils-BVCRxHbW.js","assets/js/style-cpFB66wV.js","assets/css/style-CrTXrpPu.css","assets/js/ImageDrawer-ZHDRuW0Q.js","assets/js/FlashMessage-gZ_ihQT2.js","assets/js/flashMessageQueue-Byrek2Yp.js","assets/js/DataSyncService-BnTv72BN.js","assets/js/index-DY0DW88M.js","assets/js/Logger-CErMjlBd.js","assets/js/info-DdD9a7JK.js","assets/js/globalKeyEventManager-Dw4DvSNm.js","assets/js/icon-close-DRlspKs3.js","assets/js/_plugin-vue2_normalizer-DeUNqxFl.js","assets/css/FlashMessage-ACDdcUmx.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./style-cpFB66wV.js";import{y as a,z as r,e as o}from"./FlashMessage-gZ_ihQT2.js";const t=0,n=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;async function i(e){return new Promise((a=>{e.loading=!0;const t=new Image;e.element=t,t.addEventListener("load",(()=>{e.loading=!1,a()})),t.addEventListener("error",(()=>{e.element=void 0,e.error=!0,e.loading=!1,r().error(`${o} loading image: ${e.source}`),a()})),t.src=e.source}))}async function s(e){if("svg"!==e.type)return void(await i(e));e.loading=!0;const a=await fetch(e.source);a.ok?e.svgData=await a.text():(r().error(`${o} Image not found`),e.error=!0),e.loading=!1}function l(e,r,o,s){var l;const c=function(e,r,o){const{svgData:i}=e;if(!i)return"";const s=a(r,o);if(i.includes("fill"))return i.replace(n,(()=>s));const l=i.indexOf(">");return`${i.substring(t,l)} fill="${s}"${i.substring(l)}`}(e,o,(null==(l=s.opacity)?void 0:l.value)??1),g={color:o,gif:r.gif,data:{...e,svgData:c},loaded:!1,ratio:r.width/r.height,replaceColor:r.replaceColor,source:r.src};return new Promise((a=>{const r=new Blob([c],{type:"image/svg+xml"}),o=URL||window.URL||window.webkitURL||window,t=o.createObjectURL(r),n=new Image;n.addEventListener("load",(()=>{g.loaded=!0,g.element=n,a(g),o.revokeObjectURL(t)}));n.addEventListener("error",(()=>{(async()=>{o.revokeObjectURL(t);const r={...e,error:!1,loading:!0};await i(r),g.loaded=!0,g.element=r.element,a(g)})()})),n.src=t}))}const c=Object.freeze(Object.defineProperty({__proto__:null,downloadSvgImage:s,loadImage:i,replaceImageColor:l},Symbol.toStringTag,{value:"Module"})),g=3;const d=Object.freeze(Object.defineProperty({__proto__:null,loadImageShape:async function(a,r=!0){!function(a){a.loadImage||(a.loadImage=async r=>{if(!r.name&&!r.src)throw new Error(`${o} no image source provided`);if(a.images||(a.images=[]),!a.images.find((e=>e.name===r.name||e.source===r.src)))try{const o={gif:r.gif??!1,name:r.name??r.src,source:r.src,type:r.src.substring(r.src.length-g),error:!1,loading:!0,replaceColor:r.replaceColor,ratio:r.width&&r.height?r.width/r.height:void 0};let t;if(a.images.push(o),r.gif){const{loadGifImage:a}=await e((async()=>{const{loadGifImage:e}=await import("./Utils-BVCRxHbW.js");return{loadGifImage:e}}),__vite__mapDeps([0,1,2]));t=a}else t=r.replaceColor?s:i;await t(o)}catch{throw new Error(`${o} ${r.name??r.src} not found`)}})}(a);const{ImagePreloaderPlugin:t}=await e((async()=>{const{ImagePreloaderPlugin:e}=await import("./ImagePreloader-CLFQwLjn.js");return{ImagePreloaderPlugin:e}}),[]),{ImageDrawer:n}=await e((async()=>{const{ImageDrawer:e}=await import("./ImageDrawer-ZHDRuW0Q.js");return{ImageDrawer:e}}),__vite__mapDeps([3,0,1,2,4,5,6,7,8,9,10,11,12,13])),l=new t(a);await a.addPlugin(l,r),await a.addShape(["image","images"],new n(a),r)}},Symbol.toStringTag,{value:"Module"}));export{c as U,d as i,l as r};