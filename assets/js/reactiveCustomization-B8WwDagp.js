import{l as t,V as e,w as s}from"./index-DY0DW88M.js";import{e as o}from"./DataSyncService-BnTv72BN.js";import"./Logger-CErMjlBd.js";import"./style-cpFB66wV.js";const i=new t({}),n=new Proxy(i,{get:(t,s)=>(Object.prototype.hasOwnProperty.call(t,s)||e.set(t,s,m.models.customization.getComputedSetting(s)),t[s]),set:()=>(console.warn('Computed settings cannot be set by reactiveCustomization. Instead set persistent settings with "persistent"'),!1)}),a=new Proxy(i,{get:(t,e)=>({...JSON.parse(m.models.customization.persistentSettings.defaultIfNotSet[e+"Str"]),...JSON.parse(n[e+"Str"])}),set:()=>(console.warn('Computed settings cannot be set by reactiveCustomization. Instead set persistent settings with "persistent"'),!1)}),r=new t({}),c=new Proxy(r,{get:(t,s)=>(Object.prototype.hasOwnProperty.call(t,s)||e.set(t,s,m.models.customization.get(s)),t[s]),set:(t,s,o)=>(m.models.customization.save(s,o),e.set(t,s,o),!0)}),d=new Proxy(r,{get:(t,e)=>({...JSON.parse(m.models.customization.persistentSettings.defaultIfNotSet[e+"Str"]),...JSON.parse(c[e+"Str"])}),set:(t,e,s)=>(c[e+"Str"]=JSON.stringify(s),!0)});function p(t={}){Object.entries(t).forEach((([t,s])=>e.set(r,t,s))),m.models.customization.save(t)}o.$on("customization:update",(t=>{t.forEach((t=>{e.set(i,t,m.models.customization.getComputedSetting(t)),e.set(r,t,m.models.customization.get(t))}))})),o.$once("customization:initialized",(()=>{m.models.customization.on("change",(t=>{t&&Object.entries(t.changed).forEach((([t,s])=>{e.set(i,t,m.models.customization.getComputedSetting(t)),e.set(r,t,s)}))})),s((()=>n.lowPerformance),(t=>{t?document.body.classList.add("low-performance"):document.body.classList.remove("low-performance")}),{immediate:!0})}));export{n as computed,a as computedObjectSettings,c as persistent,d as persistentObjectSettings,p as setMultiple};