import{y as e,z as t}from"./index-DY0DW88M.js";const o=(o,{analytics:a,resetActiveView:p=!0}={})=>{const c=o(),i=null==a?void 0:a.capture.bind(a),u=null==a?void 0:a.batchCapture.bind(a),n=e((()=>c.popupActive)),s=async e=>{const t="boolean"!=typeof e;t&&n.value&&!c.focused?c.focus():await c.togglePopup(t?void 0:e,{resetActiveView:p})};return t("capture",i||(()=>{})),t("batchCapture",u||(()=>{})),{popupActive:n,togglePopupAndCaptureIfOpen:async e=>{if(await s(),n.value){const t=e instanceof KeyboardEvent?"hotkey":"click";null==i||i("app show",{source:t})}},closePopup:async()=>{await c.togglePopup(!1,{resetActiveView:p})},togglePopup:s}};export{o as u};