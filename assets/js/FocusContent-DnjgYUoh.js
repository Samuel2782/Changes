import{u as o}from"./useAllComponentsMounted-RTvHVD2I.js";import{T as t}from"./index-r5dAL4oY.js";import{c as s}from"./main-bIou5Ou2.js";import{persistent as e}from"./reactiveCustomization-B8WwDagp.js";import{r,n as a,A as n}from"./index-DY0DW88M.js";import{D as i}from"./DashCheckbox-CFJuSGSm.js";import{a as p}from"./modal-CXkRDJ21.js";import{U as c}from"./enums-C0TfsRui.js";import{B as d}from"./BaseDropdown-CJtlJqHX.js";import{B as l}from"./BaseDropdownOption-Bn6J2nm1.js";import u from"./BaseIcon-Bb2ZVMd4.js";import{n as f}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import"./DataSyncService-BnTv72BN.js";import"./Logger-CErMjlBd.js";import"./pinia-bvFMkYCE.js";import"./localStorage-B4mFdj8F.js";import"./legacyUserMigration-eNETLKah.js";import"./style-cpFB66wV.js";import"./migrateLegacyUserMessageHandler-HceDQnYT.js";import"./auth-HiWjNVol.js";import"./persistStore-CE5fTtZd.js";import"./embeddedApp-R3YDNjex.js";import"./experiments-D9-xSE76.js";import"./flashMessageQueue-Byrek2Yp.js";import"./info-DdD9a7JK.js";import"./constants-Bt_TxKWw.js";import"./dynamic-import-helper-DIl3ayLm.js";import"./index-BaInu6ja.js";import"./appZStack-B9FmF8l5.js";import"./ResizeSensor-ZXOsDHeC.js";import"./promisifiedChrome-B6V9WMyE.js";import"./modal-DiTGFINU.js";import"./VueBase-EULQJZ9I.js";import"./_commonjsHelpers-B3K3fdV-.js";import"./ClickOutside-DCLvi2fj.js";import"./portal-vue.esm-BDTnR1AQ.js";import"./daily-goal-DXmLNw7i.js";import"./search-_4L9pO9R.js";import"./calendar-C-iEpGgd.js";import"./SettingsTypes-C_Wf2Ybw.js";import"./state-odjm2uKU.js";import"./LocalStorageStoreSyncedItem-kVGQtJA7.js";import"./BaseDropdownContent-Nf5O_5Ty.js";import"./constants-CALDQiUE.js";import"./index-CV0q_XsJ.js";import"./icon-ellipsis-D7nTOXaQ.js";const j=f({name:"FocusContent",components:{BaseIcon:u,BaseDropdownOption:l,BaseDropdown:d,DashCheckbox:i,ThreeColLayout:t},props:{focus:{type:Object,default:()=>({})},inPomodoro:{type:Boolean,default:!1}},setup:()=>({...o(),centerBelowMetadata:s,dropdown:r()}),computed:{autofocusLabel(){return(this.autoFocus?"Turn off":"Turn on")+" Top task in center"},autoFocus:()=>e.autoFocus},watch:{focus:{handler(){a((()=>m.trigger("focus-content:updated")))},immediate:!0}},methods:{handleDropdownClick(o){this.closeDropdown(),this.$emit(o)},toggleAutoFocus(){this.closeDropdown(),m.commandManager.execute("todo.toggle.autofocus",null,{sourceApp:"Focus",eventSource:"focus"})},startPomodoroTimer(){this.closeDropdown(),this.$plus?(m.trigger("pomodoro:show"),localStorage.setItem("pomodoro-focus-timer",!0),n.capture("start pomodoro timer click",{feature:"focus",is_paid_event:!0})):p(c.POMODORO,"focus")},complete(){this.$emit("complete")},afterEnter(){m.trigger("focus-content:updated")},openDropdown(){var o;null==(o=this.dropdown)||o.openDropdown()},closeDropdown(){var o;null==(o=this.dropdown)||o.closeDropdown()}}},(function(){var o=this,t=o._self._c;return t("div",{staticClass:"focus-content"},[o.inPomodoro?o._e():t("h3",{staticClass:"focus-title"},[o._v("Today")]),t("transition",{attrs:{name:"fade",mode:"out-in"},on:{"after-enter":o.afterEnter}},[t("three-col-layout",{key:o.focus.focus,staticClass:"focus-row",class:{complete:o.focus.completed},scopedSlots:o._u([{key:"left",fn:function(){return[o._t("nav"),t("dash-checkbox",{attrs:{"data-test":"complete",value:!!o.focus.completed},on:{input:o.complete}})]},proxy:!0},{key:"center",fn:function(){return[t("div",{directives:[{name:"mobile-click",rawName:"v-mobile-click",value:o.openDropdown.bind(null),expression:"openDropdown.bind(null)"}],staticClass:"todays-focus",attrs:{"data-test":"focus-active"},on:{dblclick:o.openDropdown}},[o._v(" "+o._s(o.focus.focus)+" ")])]},proxy:!0},{key:"right",fn:function(){return[t("base-dropdown",{ref:"dropdown",staticClass:"focus-dropdown",attrs:{"data-test":"more-toggle","container-class":"dash"},scopedSlots:o._u([{key:"toggle",fn:function(){return[t("div",{staticClass:"icon-wrapper dark dark-full"},[t("base-icon",{staticClass:"icon",attrs:{src:"icon-ellipsis",size:"15px"}})],1)]},proxy:!0}])},[o.focus.completed?o._e():t("base-dropdown-option",{attrs:{"data-test":"edit"},nativeOn:{click:function(t){return o.handleDropdownClick("edit")}}},[t("base-icon",{attrs:{src:"pencil"}}),t("span",[o._v("Edit")])],1),t("base-dropdown-option",{attrs:{"data-test":"clear"},nativeOn:{click:function(t){return o.handleDropdownClick("archive")}}},[t("base-icon",{attrs:{src:"x"}}),t("span",[o._v("Clear")])],1),o.focus.completed?t("base-dropdown-option",{attrs:{"data-test":"new"},nativeOn:{click:function(t){return o.handleDropdownClick("new")}}},[t("base-icon",{attrs:{src:"plus"}}),t("span",[o._v("New")])],1):o._e(),t("base-dropdown-option",{attrs:{"data-test":"pomodoro-timer"},nativeOn:{click:function(t){return o.startPomodoroTimer.apply(null,arguments)}}},[t("base-icon",{attrs:{src:"icon/apps/pomodoro"}}),t("span",[o._v("Start Pomodoro Timer")]),o.$plus?o._e():t("div",{staticClass:"badge badge-plus"},[o._v("PLUS")])],1),t("base-dropdown-option",{attrs:{"data-test":"autofocus"},nativeOn:{click:function(t){return o.toggleAutoFocus.apply(null,arguments)}}},[t("base-icon",{attrs:{src:o.autoFocus?"pause":"play"}}),t("span",[o._v(o._s(o.autofocusLabel))]),o.$plus?o._e():t("div",{staticClass:"badge badge-plus"},[o._v("PLUS")])],1)],1)]},proxy:!0}],null,!0)})],1)],1)}),[],!1,null,"0c21f90a").exports;export{j as default};