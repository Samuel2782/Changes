import{I as e,r as t,n as u}from"./index-DY0DW88M.js";import{n}from"./_plugin-vue2_normalizer-DeUNqxFl.js";const i=n(e({name:"InlineNumberInput",props:{value:{type:Number,required:!0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},default:{type:Number,default:1},min:{type:Number,default:0},max:{type:Number,default:9999},debounce:{type:Number,default:0},autoFocus:{type:Boolean,default:!1}},emits:["input"],setup:()=>({debounceTimeout:void 0,input:t()}),data(){return{innerValue:this.value}},watch:{value(e){this.innerValue=e}},mounted(){this.autoFocus&&this.focus()},methods:{debouncedUpdate(e){const t=e.target.value;let u=Number(t);if(-0===u&&(u=0),u=u??this.default,isNaN(u)?u=this.default:u<this.min?u=this.min:u>this.max&&(u=this.max),this.input&&`${u}`!==t&&(this.innerValue=u,["","-"].includes(t)||(this.input.value=`${u}`)),0===this.debounce)return this.$emit("input",u);clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout((()=>{this.$emit("input",u)}),this.debounce)},focus(){u((()=>{var e;null==(e=this.input)||e.focus()}))},blur(){var e;null==(e=this.input)||e.blur()}}}),(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"inline-number-input",class:{disabled:e.disabled,readonly:e.readonly}},[t("div",{staticClass:"hidden-data"},[e._v(e._s(e.innerValue))]),t("input",{ref:"input",staticClass:"hide-controls",attrs:{type:"number",disabled:e.disabled,readonly:e.readonly},domProps:{value:e.innerValue},on:{input:e.debouncedUpdate,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.blur.apply(null,arguments)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0)?null:(t.stopPropagation(),e.blur.apply(null,arguments))}}})])}),[],!1,null,"8cc26a1e").exports;export{i as I};