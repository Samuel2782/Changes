const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/OnboardingNotificationIntroduction-Cih53fiq.js","assets/js/index-DY0DW88M.js","assets/js/Logger-CErMjlBd.js","assets/js/style-cpFB66wV.js","assets/css/style-CrTXrpPu.css","assets/js/Popup-3lZ9av7x.js","assets/js/DataSyncService-BnTv72BN.js","assets/js/BaseIcon-Bb2ZVMd4.js","assets/js/dynamic-import-helper-DIl3ayLm.js","assets/js/_plugin-vue2_normalizer-DeUNqxFl.js","assets/css/BaseIcon-Bkqy2Cka.css","assets/js/BaseDropdownContent-Nf5O_5Ty.js","assets/js/constants-CALDQiUE.js","assets/js/index-CV0q_XsJ.js","assets/css/BaseDropdownContent-BVfvvT0B.css","assets/css/Popup-D9NqdHv-.css","assets/css/OnboardingNotificationIntroduction-NY8C_Ay_.css","assets/js/SubStepTipsContainer-2w4phNBY.js","assets/js/OnboardingVideoModalIntroduction-CXCl55A1.js","assets/js/ModalBox-e_qFZdvQ.js","assets/css/ModalBox-CTXFbljY.css","assets/css/OnboardingVideoModalIntroduction-BXB5dL3L.css","assets/js/OnboardingVideoNotificationIntroduction-BlrMotRG.js","assets/css/OnboardingVideoNotificationIntroduction-DP3thBAA.css","assets/js/UpsellModalContainer-DSEYxDIQ.js","assets/js/SmoothReflow-Cnw3bIxd.js","assets/js/ResizeSensor-ZXOsDHeC.js","assets/js/useAllComponentsMounted-RTvHVD2I.js","assets/css/SmoothReflow-C80bIkgz.css","assets/js/enums-C0TfsRui.js","assets/js/OverflowCarousel-BTLDelkQ.js","assets/js/constants-BpVlFj04.js","assets/js/icon-next-CI-_n-sg.js","assets/css/OverflowCarousel-eEMC8kQU.css","assets/css/UpsellModalContainer-DEBoGZuy.css","assets/js/PlusGateUpsell-BkNNsmHh.js","assets/js/UpsellModal-BU1JYKHQ.js","assets/js/icon-back-D7vBl-rG.js","assets/js/icon-close-DRlspKs3.js","assets/js/upgrade-DsD9ozzX.js","assets/js/embeddedApp-R3YDNjex.js","assets/js/auth-HiWjNVol.js","assets/js/persistStore-CE5fTtZd.js","assets/js/experiments-D9-xSE76.js","assets/js/plusStatusBanner-hTEdr56E.js","assets/js/SubscriptionSummary-BQ9oLLHV.js","assets/js/icon-clean-C-ZtxDm4.js","assets/css/UpsellModal-C9W6W914.css","assets/js/icon-integrations-CJvt3t6J.js","assets/js/icon-photo-match-COcZsWYu.js","assets/js/icon-color-DWYYkiUn.js","assets/js/icon-easy-access-BLZqwSdU.js","assets/js/icon-skip-NKABUUyQ.js","assets/js/icon-more-lists-q-EqWctg.js","assets/css/PlusGateUpsell-Bqe9vjM0.css","assets/js/AiChatUpsell-BSBrnTRE.js","assets/js/easy-BlSSSWfE.js","assets/js/secure-Hzc_2W5D.js","assets/css/AiChatUpsell-DJFB1_-o.css","assets/js/AutofocusUpsell-DHdwfOGm.js","assets/js/icon-focused-CGtSWngL.js","assets/js/icon-flow-BEQ4ibGr.js","assets/css/AutofocusUpsell-B-jTL8Fn.css","assets/js/BalanceModeUpsell-Cf2q9AB5.js","assets/js/icon-hourly-D31VLw0V.js","assets/js/icon-balance-BEQ4ibGr.js","assets/js/icon-percent-schedule-sFliviMo.js","assets/css/BalanceModeUpsell-BY8aALak.css","assets/js/CountdownsUpsell-D-5TwIy7.js","assets/js/icon-time-sensitive-CFkxJVUs.js","assets/js/icon-history-CkMEKT56.js","assets/css/CountdownsUpsell-IUlhfokc.css","assets/js/FocusModeUpsell-VKkPmqJx.js","assets/js/state-odjm2uKU.js","assets/js/LocalStorageStoreSyncedItem-kVGQtJA7.js","assets/js/index-DM3Q2nkp.js","assets/js/PomodoroTimers-CqOVDo7T.js","assets/js/settings-rA0qDzbq.js","assets/js/reactiveCustomization-B8WwDagp.js","assets/js/focus-mode-TgjJstn5.js","assets/js/icon-habit-CyobjhAa.js","assets/js/icon-spiral-BpNIPel8.js","assets/css/FocusModeUpsell-CAk9C6J6.css","assets/js/MantrasUpsell-HE5JKUfj.js","assets/js/icon-personalize-D-Q8P7CA.js","assets/js/icon-random-BazfyaSQ.js","assets/css/MantrasUpsell-BfknIMJC.css","assets/js/MetricsUpsell-YqNHwGwb.js","assets/js/icon-top-of-mind-KY8a3NL1.js","assets/js/icon-multiple-types-C6o5Zl9-.js","assets/js/icon-fitness-CuDP5A24.js","assets/css/MetricsUpsell-BqePBRZS.css","assets/js/MultiTodoUpsell-DRROE09D.js","assets/js/icon-kanban-uT_SjwUN.js","assets/css/MultiTodoUpsell-DY0EEZRl.css","assets/js/NotesUpsell-DD6zKoXh.js","assets/js/sparks-Vj9MgeFM.js","assets/js/brain-CoODe7UU.js","assets/css/NotesUpsell-Co6smMz9.css","assets/js/PhotosUpsell-Caf915IW.js","assets/js/icon-personalize-photos-D39q7YXV.js","assets/css/PhotosUpsell-BwGg__C3.css","assets/js/PomodoroUpsell-YV72ytnE.js","assets/js/icon-focus-stats-6W6jP5A2.js","assets/js/icon-customize-timers-DgMgSftf.js","assets/css/PomodoroUpsell-CodhuY8G.css","assets/js/QuotesUpsell-ClTdemyG.js","assets/css/QuotesUpsell-DJHeQ3Dt.css","assets/js/SoundsUpsell-Bp9ZVjfu.js","assets/js/icon-headphones-BCOAFhua.js","assets/js/icon-audio-file-C5z8NBT3.js","assets/js/icon-soundwave-Cp4ZlUlZ.js","assets/css/SoundsUpsell-on8LNoae.css","assets/js/TabGroupsUpsell-MP2kIlfu.js","assets/js/icon-simplify-CH0ObbhY.js","assets/js/icon-infinity-BYguCjws.js","assets/css/TabGroupsUpsell-aB5uydtQ.css","assets/js/TabStashUpsell-B-rERaZv.js","assets/js/icon-sync-CUBUs3QH.js","assets/css/TabStashUpsell-_KuSJOl2.css","assets/js/ThemesUpsell-BQ2ZGSpl.js","assets/js/icon-custom-theme-D39q7YXV.js","assets/js/icon-more-fonts-CkIvMWOQ.js","assets/css/ThemesUpsell-Abqy-kpB.css","assets/js/TodoIntegrationsUpsell-CaUAGbzD.js","assets/js/icon-asana-CHXQNqTn.js","assets/js/icon-basecamp-B7R9CqXM.js","assets/js/icon-clickup-DJvBy36z.js","assets/js/icon-custom-soundscapes-C9DIWXTy.js","assets/js/icon-fullscreen-CLpPfUm0.js","assets/js/icon-github-Cg7Jlm6t.js","assets/js/icon-global-weather-DFqlm1rO.js","assets/js/icon-google-tasks-DffuYEQ2.js","assets/js/icon-happy-place-DmSiv1GS.js","assets/js/icon-hub-Du_fUHGa.js","assets/js/icon-microsoft-todo-CG5-eqQU.js","assets/js/icon-note-search-IZ_87Cw-.js","assets/js/icon-search-loc-OzW-f2Jw.js","assets/js/icon-simple-notes-BesprUxs.js","assets/js/icon-timezones-Vj-X_9v-.js","assets/js/icon-todoist-zkOUMnhb.js","assets/js/icon-trello-B_C5tSSW.js","assets/js/icon-weather-extra-Wd9LFvRq.js","assets/css/TodoIntegrationsUpsell-BfA9dSGL.css","assets/js/WeatherUpsell-DB_f4Bdj.js","assets/css/WeatherUpsell-B5QHjfxY.css","assets/js/WorldClocksUpsell-D7bwsZjE.js","assets/js/SiteBlockerUpsell-CQ62LSDo.js","assets/js/ban-C8xjo91W.js","assets/js/square-check-CyN_ERxV.js","assets/js/biceps-flexed-BDmy6yoM.js","assets/css/SiteBlockerUpsell-4Or2oRrF.css","assets/js/SiteBlockerUnstoppableUpsell-B5qlzEe5.js","assets/js/streaks-Co8maZu5.js","assets/js/OnboardingUseAccount-d4m4w3Mi.js","assets/js/ssoHelpers-CwDzHOwZ.js","assets/js/authService-CEyg9tcu.js","assets/js/legacyUserMigration-eNETLKah.js","assets/js/migrateLegacyUserMessageHandler-HceDQnYT.js","assets/js/helpers-Dah3fQ_V.js","assets/js/TabLeaderElection-S4Ghxpfd.js","assets/js/onboarding-Cm39YS_P.js","assets/js/compareObjects-R6Hcs7xe.js","assets/js/modal-DiTGFINU.js","assets/js/constants-KuzCZNtH.js","assets/js/state-DDN7j9xD.js","assets/js/constants-CHIvVb_r.js","assets/js/login-ByohQG_J.js","assets/js/settingsViewState-ZEr74HQm.js","assets/js/ViewState-DzCxxm0h.js","assets/js/appZStack-B9FmF8l5.js","assets/js/siteBlockerGroups-CkkkdBQZ.js","assets/js/ErrorPulseInput-CkNsRuJq.js","assets/js/SettingsTypes-C_Wf2Ybw.js","assets/js/accessToken-q_Kr5K6L.js","assets/js/tasksMockData-9Ir8-V1W.js","assets/js/tasksViewState-DGees08o.js","assets/css/OnboardingUseAccount-CxTqheZy.css","assets/js/UpgradeModal-D-Ak-Sw3.js","assets/js/IframeHost-CHjPJneS.js","assets/js/IframeMessenger-Bl7PPCjo.js","assets/js/icon-error-state-DPDi2Xf2.js","assets/css/IframeHost-DvFWh4FN.css","assets/js/UpgradeModalLayout-ADFfN_Rh.js","assets/js/feel-focused-Cmh8GW4d.js","assets/js/stay-on-task-C4IAAUIP.js","assets/js/tasks-completed-g7itYxRk.js","assets/js/partner-Xu2c1ljz.js","assets/js/ModalLayout-Z_kFVyOI.js","assets/css/ModalLayout-Di888OSg.css","assets/css/UpgradeModalLayout-Bii67ua3.css","assets/css/UpgradeModal-dt7KtHLy.css","assets/js/OneTimeLogin-sYeU7-3u.js","assets/js/oneTimeLoginService-DD8ytOg2.js","assets/css/OneTimeLogin-CPUDoLrR.css","assets/js/Login-pMYY5vCw.js","assets/css/Login-DghhUv9g.css","assets/js/LoginName-DT_a2_R2.js","assets/js/loginStepMixin-B3i6khqZ.js","assets/js/BaseMessage-BBabi6Dl.js","assets/css/BaseMessage-r5wpiN8K.css","assets/js/logo-white-B6YRYJ5A.js","assets/css/loginStepMixin-BOxpEmsy.css","assets/js/LoginInput-DmRHxDuQ.js","assets/js/SoftFocus-BUhesXB-.js","assets/js/MobileBlur-B2s9dLKD.js","assets/css/LoginInput-Dl-Ud8LM.css","assets/css/LoginName-B_SY1GJM.css","assets/js/LoginEmail-CBaAwCqa.js","assets/js/LoginChoosePassword-CtB7Jsrs.js","assets/js/LoginPasswordInput-VC36IoxP.js","assets/js/icon-visible-on-DF1CdqCc.js","assets/js/icon-visible-off-CwNdVUTo.js","assets/css/LoginPasswordInput-BhaeJAQu.css","assets/js/LoginEnterPassword-Dcai3zQY.js","assets/js/LoginResetPassword-ZfDeHmA0.js","assets/js/LoginResetPasswordSent-DGL-6Hz4.js","assets/css/LoginResetPasswordSent-CNv7fMoB.css","assets/js/LoginDataCollection-DpwEDewP.js","assets/css/LoginDataCollection-CHJdyOKZ.css","assets/js/LoginProvider-Bhl4CjKk.js","assets/js/OAuthButton-v1b4EHQt.js","assets/js/icon-apple-dpDSqZSz.js","assets/js/google-NyzgtnG4.js","assets/css/OAuthButton-BXEODMNm.css","assets/js/icon-email-BZ6UK25K.js","assets/js/icon-skip-intro-f034Ba9B.js","assets/css/LoginProvider-CzuI1htD.css","assets/js/LoginAddPasswordExistingAccount-DN6rLLPe.js","assets/css/LoginAddPasswordExistingAccount-BmbkF7Gs.css","assets/js/PlanChooserModal-TxIZXbsq.js","assets/css/PlanChooserModal-v6UvE-BM.css","assets/js/siteBlockerSession-BLAHUa0_.js","assets/js/promisifiedChrome-B6V9WMyE.js","assets/js/focusModeViewState-PmqXWVgL.js","assets/js/pomodoroCompleted-Cm_ahB75.js","assets/js/modal-CXkRDJ21.js","assets/js/SurveyIframeModal-BCbPKGAa.js","assets/css/SurveyIframeModal-DSmM6FCK.css","assets/js/soundsViewState-BFwTZI5X.js","assets/js/ReleaseUpdateModal-Cx6HFoDP.js","assets/css/ReleaseUpdateModal-1qPKaAy_.css","assets/js/SetupUnregisteredDashboard-DQHaLd5a.js","assets/css/SetupUnregisteredDashboard-Ci1yUeBa.css","assets/js/OnboardingModalIntroduction-CSQGZkr6.js","assets/css/OnboardingModalIntroduction-ClbP0fLM.css","assets/js/TeamExpired-DPyFfVBQ.js","assets/css/TeamExpired-DWEo81O1.css","assets/js/OnboardingTipNotificationIntroduction-CAHVVuED.js","assets/css/OnboardingTipNotificationIntroduction-Cd6x1Q-Q.css","assets/js/FaviconPermission-rPxaowRz.js","assets/js/icon-lock-BDcjUj_s.js","assets/css/FaviconPermission-mvc4c8gP.css","assets/js/SafariAccount-BIFxNLvG.js","assets/js/icon-profile-womUQGUp.js","assets/css/SafariAccount-b6HVzRwU.css","assets/js/PermissionRequest-Dj0LjIbf.js","assets/js/icon-down-CXjJWZ3Q.js","assets/css/PermissionRequest-D66Ot69n.css"])))=>i.map(i=>d[i]);
var e,t,o=Object.defineProperty,s=(e,t,s)=>((e,t,s)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,"symbol"!=typeof t?t+"":t,s);import{D as a,M as n,e as i,d as r}from"./DataSyncService-BnTv72BN.js";import{u as c,g as l,c as d,m as p}from"./Logger-CErMjlBd.js";import{e as u,a as _,u as T,D as E,d as S,aI as g,ao as h,az as b,V as O,W as f,A as I,aJ as P,aK as y,a6 as R,a7 as w,aL as C,H as v,G as D,aM as A,aA as N}from"./index-DY0DW88M.js";import{_ as L}from"./style-cpFB66wV.js";import{e as M,v as k,s as V,U as F,l as U}from"./enums-C0TfsRui.js";import{d as x,a as B,c as j}from"./helpers-Dah3fQ_V.js";import{d as Y,f as G}from"./state-odjm2uKU.js";import{S as W,a as $,O as H,D as K,b as z,s as q,i as J}from"./onboarding-Cm39YS_P.js";import{c as Q}from"./compareObjects-R6Hcs7xe.js";import{u as Z}from"./modal-DiTGFINU.js";import{u as X}from"./SubscriptionSummary-BQ9oLLHV.js";import{computed as ee,persistent as te,setMultiple as oe}from"./reactiveCustomization-B8WwDagp.js";import{a as se,D as ae}from"./constants-CALDQiUE.js";import{a as ne}from"./constants-KuzCZNtH.js";import{u as ie}from"./state-DDN7j9xD.js";import{a as re}from"./authService-CEyg9tcu.js";import{l as ce,c as le,a as de}from"./login-ByohQG_J.js";import{b as pe,i as me}from"./index-DM3Q2nkp.js";import{g as ue}from"./experiments-D9-xSE76.js";import{S as _e}from"./settingsViewState-ZEr74HQm.js";import{g as Te,a as Ee}from"./settings-rA0qDzbq.js";import{u as Se}from"./siteBlockerGroups-CkkkdBQZ.js";import{C as ge}from"./SettingsTypes-C_Wf2Ybw.js";import{c as he}from"./accessToken-q_Kr5K6L.js";import{u as be}from"./tasksMockData-9Ir8-V1W.js";import{u as Oe,T as fe}from"./tasksViewState-DGees08o.js";class Ie{constructor({id:e=c(),name:t,status:o,data:s={}}){this.id=e,this.name=t,this.status=o,this.data=s}}var Pe=(e=>(e.Welcome="welcome",e.Goal="goal",e.Focus="focus",e))(Pe||{});const ye={welcome:{header:"🌄 Boost Motivation",body:"Inspire your best work with a new photo, quote, and mantra each day."},goal:{header:"🎯 Stay Focused",body:"View your daily goal with each new tab. With Plus, sync your goal with your next task."},focus:{header:"🧠 Beat Procrastination",body:"Get in the zone: Block distractions, vacuum tabs, and use focus timers and sounds."}};var Re=(e=>(e.Customize="customize",e.Glance="glance",e.Tasks="tasks",e.Focus="focus",e))(Re||{});const we={customize:{header:"✨ Customize Momentum for Truly Personal Inspiration",body:"Add your own photos, quotes or mantras to truly make the dashboard your own."},glance:{header:"📋 Your Life at a Glance",body:"Add countdowns, metrics, or world clocks to your dashboard and link them to your favorite apps.",tip:"This is a sample. Create your own content after the demo."},tasks:{header:"😌 Tame Your Tasks",body:"Automatically display your current task front and center while syncing with your favorite to-do apps."},focus:{header:"💭 Unlimited Focus",body:"Use Focus Mode as long as you want. Access Pomodoro, Tab Stash, Site Blocker, and Sounds even outside Focus Mode."}},Ce=["Yesterday, you said tomorrow."],ve={clocks:[{id:c(),name:"Paris",pinned:!0,timeZoneId:"Europe/Paris",timeZoneName:"Paris, Ile-de-France, France"}],metrics:[{id:c(),label:"Steps",pinned:!0,value:5e3}],countdowns:[{id:c(),utcDate:Date.now()+72576e5,hasHours:!1,pinned:!0,name:"Deadline"}]},De="Todoist",Ae=["Prepare workshop","Write essay","Literature review"],Ne="icon/upsell/icon-todoist",Le={focus:[{id:c(),focus:Ae[0],forDate:u()}]},Me={width:440,subStep:!0,onboardingStyling:!0,secondaryClasses:"button button-tertiary"};var ke=(e=>(e.Motivation="motivation",e.Procrastination="procrastination",e.Focus="focus",e))(ke||{});const Ve={motivation:{header:"Boost Motivation",body:"Inspire your best work with a new photo, quote, and mantra daily."},procrastination:{header:"Beat Procrastination",body:"Keep your #1 task front and center. Streamline tasks in a simple task list."},focus:{header:"Focus Better",body:"Stop distractions magically as you vacuum up tabs, turn on white noise, and start a focus timer in one click."}},Fe=(e,t)=>{const o=e.slice(t.length);let s=`${_.capitalizeFirstLetter(t)}: `;for(let a=0;a<o.length;++a){const e=o.at(a);e&&(e===e.toUpperCase()&&(s+=" "),s+=e)}return s},Ue=e=>`fade-slide-${"bottom"===e?"down":"up"}-full`,xe=e=>`slide-${e}`,Be=()=>{const e=localStorage.getItem("user:createTime");return e?new Date(e):null},je=()=>{const e=JSON.parse(localStorage.getItem("analytics:tabLoad")??"{}"),t=Be(),o=t?_.dateDiffIntegerDays(t,new Date)+1:0;return{tabs:e.count??0,days:o}},Ye=(e,t)=>{var o;const s=["complete","legacy"];return(null==t?void 0:t.includeDismissed)&&s.push("dismissed"),s.includes((null==(o=xo().getStep(e))?void 0:o.status)??"")},Ge=e=>{const t=Ye(e,{includeDismissed:!0}),o=(e=>{const t=xo().getStep(e);return t&&!!t.data.dateCompleted&&_.dateDiffIntegerDays(new Date,new Date(t.data.dateCompleted))<0})(e);return t&&o},We=()=>Y.currentValue||G.currentValue,$e=e=>{i.$emit("popup:hide",e)},He=()=>{m.trigger("modal:complete")},Ke=()=>{m.trigger("modal:subStepComplete")},ze=()=>{m.trigger("modal:close")},qe=()=>{m.on("focusMode:starting",He),m.on("focusMode:hover:toggle",$e)},Je=()=>{m.off("focusMode:starting",He),m.off("focusMode:hover:toggle",$e)},Qe=()=>{m.trigger("focusMode:start")},Ze=()=>{m.on("settings:visible",(()=>$e(!0))),m.on("settings:hidden",(()=>$e(!1)))},Xe=()=>{m.off("settings:visible",(()=>$e(!0))),m.off("settings:hidden",(()=>$e(!1)))},et=()=>L((()=>import("./OnboardingNotificationIntroduction-Cih53fiq.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])),tt=x({name:"Notification Introduction",hideOtherApps:!1,transitionName:"fade-slide-tip",transitionOnSubStepChange:!0,keepOpenUntilComplete:!0,transitionDuration:250,component:()=>L((()=>import("./SubStepTipsContainer-2w4phNBY.js")),__vite__mapDeps([17,1,2,3,4,9])),onShow(){m.on("focusMode:starting",ze),Ze()},onLeave(){m.off("focusMode:starting",ze),Xe()},subSteps:[B({name:Pe.Welcome,class:"fast",component:et,componentProps:{...Me,targetElementSelector:".app-container.settings .app-dash",ctaText:"Next",ctaTriggersComplete:!0,headerText:ye[Pe.Welcome].header,bodyText:ye[Pe.Welcome].body,videoUrl:"https://momentum.photos/assets/5b4e6695-526f-4e3e-977e-d2cc61af0851",videoIsButtonForModalVideo:!0,footerText:"1 of 3"}}),B({name:Pe.Goal,class:"fast",component:et,componentProps:{...Me,targetElementSelector:".app-container.settings .app-dash",ctaText:"Next",ctaTriggersComplete:!0,headerText:ye[Pe.Goal].header,bodyText:ye[Pe.Goal].body,videoUrl:"https://momentum.photos/assets/2d20410c-8758-410e-99bc-d0690b47a103",videoIsMask:!0,footerText:"2 of 3"}}),B({name:Pe.Focus,class:"fast",component:et,componentProps:{...Me,targetElementSelector:".app-container.settings .app-dash",ctaText:"Try Focus Mode",ctaCallback:async()=>{m.off("focusMode:starting",ze),Qe(),await T((()=>G.currentValue)).toBe(!0)},ctaTriggersComplete:!0,headerText:ye[Pe.Focus].header,bodyText:ye[Pe.Focus].body,videoUrl:"https://momentum.photos/assets/d08bd4ad-bd5c-4793-8077-99ae0add2d54",footerText:"3 of 3"}})]}),ot=x({name:"Video Modal Introduction",component:()=>L((()=>import("./OnboardingVideoModalIntroduction-CXCl55A1.js")),__vite__mapDeps([18,1,2,3,4,19,7,8,9,10,20,21])),componentProps:{arcadeVideoIframeSrc:"https://demo.arcade.software/O6824L974TVBEyGDk0RT?embed&embed_mobile=inline&embed_desktop=inline&show_copy_link=false"},keepOpenUntilComplete:!0}),st=x({name:"Video Notification Introduction",component:()=>L((()=>import("./OnboardingVideoNotificationIntroduction-BlrMotRG.js")),__vite__mapDeps([22,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,23])),transitionName:Ue("top"),keepOpenUntilComplete:!0,componentProps:{headerText:"Watch a video to get started",previewVideoSrc:"https://customer-fw5z54kkbbca834k.cloudflarestream.com/a10b061203651e2312158b0dbcf686bf/iframe?muted=true&preload=true&loop=true&autoplay=true&poster=https%3A%2F%2Fcustomer-fw5z54kkbbca834k.cloudflarestream.com%2Fa10b061203651e2312158b0dbcf686bf%2Fthumbnails%2Fthumbnail.jpg%3Ftime%3D0%26height%3D600&startTime=0&controls=false"},onShow(){m.on("focusMode:starting",ze),Ze()},async onLeave(e){if(m.off("focusMode:starting",ze),Xe(),e!==W.Completed)return;m.cmd("modal.open","FREE_VIDEO_INTRODUCTION");const t=Z();await T((()=>t.activeStep.name)).toBe(void 0)}}),at={[M.ONBOARDING_VARIANTS_TEST_1]:{name:"Introduction",variants:{[k.ONBOARDING_VARIANT_NOTIFICATION]:{steps:[V.FREE_INTRODUCTION],overrides:{[V.FREE_INTRODUCTION]:tt}}}},[M.ONBOARDING_VIDEO_TEST]:{name:"Introduction",variants:{[k.ONBOARDING_VIDEO_VARIANT_FULLSCREEN]:{steps:[V.FREE_INTRODUCTION],overrides:{[V.FREE_INTRODUCTION]:ot}},[k.ONBOARDING_VIDEO_VARIANT_NOTIFICATION]:{steps:[V.FREE_INTRODUCTION],overrides:{[V.FREE_INTRODUCTION]:st}}}}},nt={all:Object.keys(at),unregistered:[M.ONBOARDING_VARIANTS_TEST_1,...E()?[]:[M.ONBOARDING_VIDEO_TEST]],free:[M.ONBOARDING_VARIANTS_TEST_1,...E()?[]:[M.ONBOARDING_VIDEO_TEST]],plus:[]};function it(){var e;const t=function(e=g()){var t;let o={};return null==(t=nt[e])||t.filter((e=>{const t="true"===localStorage.getItem("experiments:disabled"),o=(localStorage.getObject("experiments:disabled:exceptions")??[]).includes(e);return!t||o})).forEach((e=>{var t;lt(null==(t=at[e])?void 0:t.disabledBrowsers)||(o[e]=at[e])})),o}(),o=rt();if(!t)return o;let s={};return null==(e=S.experiments)||e.forEach((e=>{let a=t[e.experimentName];if(!a)return;const n=a.variants[e.variantName];n&&n.steps.forEach((function(e){var t;s[e]={...vo[e]},(null==(t=n.overrides)?void 0:t[e])&&(s[e]=Object.assign(s[e],n.overrides[e])),n.deleteSteps&&n.deleteSteps.forEach((e=>{delete o[e]}))}))})),Object.assign(o,s)}function rt(e=g()){var t;let o={};return null==(t=Vo[e])||t.forEach((e=>{var t;lt(null==(t=vo[e])?void 0:t.disabledBrowsers)||(o[e]=vo[e])})),o}function ct(){var e;return Object.keys(at).length&&(null==(e=S.experiments)?void 0:e.length)?it():rt()}function lt(e){return(null==e?void 0:e.includes(h()))||(null==e?void 0:e.includes("Mobile"))&&b()}function dt(){if(!Object.keys(at).length)return{};const e=nt.all;let t={};return e.forEach((e=>{let o=at[e],s={variants:{},name:o.name};Object.keys(o.variants).forEach((e=>{let t=o.variants[e];s.variants[e]={steps:{},name:t.name},t.steps.forEach((o=>{s.variants[e].steps[o]=Object.assign({},vo[o],t.overrides?t.overrides[o]:{})}))})),t[e]=s})),t}const pt=((e=(()=>new a("onboardingSteps:local",{mode:n.Cache}))())=>r("onboardingLocalData",{state:()=>({items:{},loading:!1,itemsLoaded:!1}),actions:{async refresh(){if(!this.loading)return this.loading=!0,new Promise(((t,o)=>{e.get({success:e=>{const o=[];e.forEach((e=>{O.set(this.items,e.id,e),e.id&&o.push(e.id)})),Object.keys(this.items).forEach((e=>{o.includes(e)||O.delete(this.items,e)})),this.itemsLoaded=!0,t()},failure(e){console.error(e),o(e)}})})).finally((()=>{this.loading=!1}))},async saveStepLocalData(t,o){try{t in this.items?(O.set(this.items,t,{...this.items[t],...o}),await e.update(t,o)):(O.set(this.items,t,{stepId:t,...o}),await e.create(t,o))}catch(s){console.error(s)}},getStepLocalData(e){let t={};return e in this.items&&(t=this.items[e]),"id"in t&&delete t.id,t},deleteStepLocalData(t){return O.delete(this.items,t),e.delete(t)}}}))(),mt=new I({feature:"onboarding"}),ut={views:5,minimumImpressionSeconds:5};const _t=new class{constructor(){s(this,"_eventListenerMap",{}),s(this,"loaded",!1),this.allocatedDefinitions={},this.impressionTimeout=null}allocateDefinitions(){this.allocatedDefinitions=ct()}get _onboardingStore(){return xo()}get _onboardingLocalDataStore(){return pt()}async loadOnboarding(){if(S.onboardingRefreshing||this.loaded||f())return;const e=e=>{S.onboardingRefreshing=!1,this.loaded=!0,e&&m.models.notificationManager.displayPendingMessages()},t=()=>(e(!0),!1);try{S.onboardingRefreshing=!0,this.allocateDefinitions(),await this._onboardingStore.refresh();let[o,s]=await this._getNextStep(),a=await this._getUncompletedEventTriggeredModals();if(!o&&!a.length)return t();a.length&&this._addEventListeners(a),o&&this._initiateOnboardingStep(o,s),e()}catch(o){console.error(o),t()}}async refreshOnboarding(){if(f())return;S.onboardingRefreshing=!0,await this._onboardingStore.refresh(),this.allocateDefinitions();let e=await this._getUncompletedEventTriggeredModals();e.length&&(this._removeAllEventListeners(),this._addEventListeners(e)),await this.initiateNextStep(),S.onboardingRefreshing=!1}async initiateNextStep(){const[e,t]=await this._getNextStep();return!!e&&(this._initiateOnboardingStep(e,t),!0)}_getUncompletedEventTriggeredModals(){return _.asyncFilter(Object.values(this.allocatedDefinitions),(async e=>e.event&&await this._stepCanBeShown(e,{now:!1})))}_removeAllEventListeners(){Object.values(this._eventListenerMap).forEach((({event:e,handler:t})=>m.off(e,t))),this._eventListenerMap={}}_addEventListeners(e){e.forEach((e=>{if(e.event){const t=async()=>{var o,s;if(await this._stepCanBeShown(e)&&!Z().locked){const a=this._onboardingStore.getStep(e);this._initiateOnboardingStep(this._addHooksToDefinitions(e),(null==(o=null==a?void 0:a.data)?void 0:o.activeSubStepIndex)??(null==(s=e.firstSubStep)?void 0:s.call(e))??0),m.off(e.event,t),i.$off(e.event,t),delete this._eventListenerMap[e.name]}};m.on(e.event,t),i.$on(e.event,t),this._eventListenerMap[e.name]={event:e.event,handler:t}}}))}_initiateOnboardingStep(e,t){e&&m.trigger("modal:show",e,{subStepIndex:t})}async _getNextStep(){var e,t;for(let o in this.allocatedDefinitions){if(!Object.prototype.hasOwnProperty.call(this.allocatedDefinitions,o))continue;const s=this.allocatedDefinitions[o];if(!s.event&&await this._stepCanBeShown(s)){const o=this._onboardingStore.getStep(s);return[this._addHooksToDefinitions(s),(null==(e=null==o?void 0:o.data)?void 0:e.activeSubStepIndex)??(null==(t=s.firstSubStep)?void 0:t.call(s))??0]}}return[]}async _onStepShow(e){var t;this._onboardingStore.getStep(e)||await this._onboardingStore.saveStepProgress(e),!1!==e&&await this._trackImpressionAndViews(e),await(null==(t=e.onShow)?void 0:t.call(e)),mt.deferredCapture("onboarding step show",{name:e.name.toLowerCase()})}async _onStepComplete(e,t,o=W.Completed,s=!0){var a;await(null==(a=e[$[o]])?void 0:a.call(e,t));const n=this._onboardingStore.getStep(e),{views:i,impressionReached:r=!1}=(null==n?void 0:n.data)||{};mt.capture(H[o],{name:e.name.toLowerCase(),auto_dismissed:!1,views:i,impression_reached:r}),s&&await this._onboardingStore.saveStepProgress(e,{status:o,activeSubStepIndex:t.activeSubStepIndex})}async _onSubStepComplete(e,t){var o;const{activeSubStep:s,nextSubStepIndex:a,hasSubStepsRemaining:n}=t;await(null==(o=e._onSubStepComplete)?void 0:o.call(e,t)),mt.capture("onboarding sub-step complete",{step:e.name.toLowerCase(),sub_step:s.name.toLowerCase()}),n&&await this._onboardingStore.saveStepProgress(e,{activeSubStepIndex:a})}async _onStepLeave(e,t){var o;await(null==(o=e.onLeave)?void 0:o.call(e,t)),t===W.Errored||await this.initiateNextStep()||m.models.notificationManager.displayPendingMessages()}_addHooksToDefinitions(e){var t;const o={...e,onShow:()=>this._onStepShow(e),onComplete:t=>this._onStepComplete(e,t,W.Completed,!0),onDismiss:t=>this._onStepComplete(e,t,W.Dismissed,!0),onError:t=>this._onStepComplete(e,t,W.Errored,!1),onLeave:this._onStepLeave.bind(this,e)};return(null==(t=e.subSteps)?void 0:t.length)&&(o.onSubStepComplete=t=>this._onSubStepComplete(e,t)),o}async _stepCanBeShown(e,{now:t=!0}={}){let o=this._onboardingStore.getStep(e);return(!o||![W.Completed,W.Dismissed,W.Legacy].includes(o.status))&&(!!(await this._userMeetsDateRestrictions(e))&&(!t||this._checkShouldActivate(e)))}_stepCanBeAutoDismissed(e){var t;const o=this._onboardingStore.getStep(e);if(!o)return!1;const{views:s,minimumImpressionSeconds:a}=e.autoDismiss||ut,n=s&&(o.data.views||0)<s,i=a&&!(null==(t=o.data)?void 0:t.impressionReached);return!n&&!i}async _trackImpressionAndViews(e){var t;const o=this._onboardingStore.getStep(e),{views:s,minimumImpressionSeconds:a}=e.autoDismiss||ut;s&&await this._trackViewCount(e,o),a&&!(null==(t=null==o?void 0:o.data)?void 0:t.impressionReached)&&await this._trackImpression(a,e,o)}async _trackImpression(e,t){clearTimeout(this.impressionTimeout),this.impressionTimeout=setTimeout((async()=>{await this._onboardingLocalDataStore.saveStepLocalData(t.id,{impressionReached:!0}),this._stepCanBeAutoDismissed(t)&&await this._saveStepAsAutoDismissed(t.id)}),1e3*e)}async _trackViewCount(e,t){var o;const s=((null==(o=null==t?void 0:t.data)?void 0:o.views)||0)+1;await this._onboardingLocalDataStore.saveStepLocalData(e.id,{views:s}),this._stepCanBeAutoDismissed(e)&&await this._saveStepAsAutoDismissed(e.id)}_saveStepAsAutoDismissed(e){var t;const o=this.allocatedDefinitions[e],{views:s,impressionReached:a}=(null==(t=this._onboardingStore.getStep(o))?void 0:t.data)??{};return mt.capture(H[W.Dismissed],{name:o.name.toLowerCase(),auto_dismissed:!0,views:s,impression_reached:a}),this._onboardingStore.saveStepProgress(e,{status:W.Dismissed,data:{autoDismissed:!0}})}async _userMeetsDateRestrictions(e){let t=localStorage.getItem("user:createTime");if(!t)return!1;let o=!0;if(e.plusSubscriptionTimeGate){const t=X();await T((()=>t.loaded)).toBe(!0),await T((()=>t.loading)).toBe(!1),o=new Date(t.firstSubscriptionStart)>new Date(e.plusSubscriptionTimeGate)}return o&&new Date(t)>new Date(e.userCreatedTimeGate||K)}async _checkShouldActivate(e){return!e.shouldActivate||await e.shouldActivate()}},Tt=Object.freeze(Object.defineProperty({__proto__:null,default:_t},Symbol.toStringTag,{value:"Module"})),Et=x({name:"Upsells",component:()=>L((()=>import("./UpsellModalContainer-DSEYxDIQ.js")),__vite__mapDeps([24,1,2,3,4,25,26,27,6,9,28,29,30,31,32,33,34])),subSteps:[B({upsellId:F.GENERAL,name:"Plus Overview",component:()=>L((()=>import("./PlusGateUpsell-BkNNsmHh.js")),__vite__mapDeps([35,1,2,3,4,36,37,38,9,29,13,39,40,41,6,42,43,44,45,46,47,48,49,50,51,52,53,54]))}),B({upsellId:F.AI_CHAT,name:"Ask AI",component:()=>L((()=>import("./AiChatUpsell-BSBrnTRE.js")),__vite__mapDeps([55,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,56,57,58]))}),B({upsellId:F.AUTOFOCUS,name:"Top Task in Center",component:()=>L((()=>import("./AutofocusUpsell-DHdwfOGm.js")),__vite__mapDeps([59,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,60,61,48,62]))}),B({upsellId:F.BALANCE_MODE,name:"Balance Mode",component:()=>L((()=>import("./BalanceModeUpsell-Cf2q9AB5.js")),__vite__mapDeps([63,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,64,65,66,67]))}),B({upsellId:F.COUNTDOWNS,name:"Countdowns",component:()=>L((()=>import("./CountdownsUpsell-D-5TwIy7.js")),__vite__mapDeps([68,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,69,70,71]))}),B({upsellId:F.FOCUS_MODE,name:"Focus Mode",component:()=>L((()=>import("./FocusModeUpsell-VKkPmqJx.js")),__vite__mapDeps([72,1,2,3,4,73,74,75,6,76,42,77,78,36,37,38,9,29,13,39,40,41,43,44,45,46,47,79,80,81,82]))}),B({upsellId:F.MANTRAS,name:"Mantras",component:()=>L((()=>import("./MantrasUpsell-HE5JKUfj.js")),__vite__mapDeps([83,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,84,52,85,86]))}),B({upsellId:F.METRICS,name:"Metrics",component:()=>L((()=>import("./MetricsUpsell-YqNHwGwb.js")),__vite__mapDeps([87,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,88,89,90,91]))}),B({upsellId:F.MULTI_TODO,name:"Custom Tasks Lists",component:()=>L((()=>import("./MultiTodoUpsell-DRROE09D.js")),__vite__mapDeps([92,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,53,93,50,94]))}),B({upsellId:F.NOTES,name:"Notes",component:()=>L((()=>import("./NotesUpsell-DD6zKoXh.js")),__vite__mapDeps([95,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,96,97,98]))}),B({upsellId:F.PHOTOS,name:"Photos",component:()=>L((()=>import("./PhotosUpsell-Caf915IW.js")),__vite__mapDeps([99,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,100,49,85,101]))}),B({upsellId:F.POMODORO,name:"Pomodoro",component:()=>L((()=>import("./PomodoroUpsell-YV72ytnE.js")),__vite__mapDeps([102,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,61,103,104,105]))}),B({upsellId:F.QUOTES,name:"Quotes",component:()=>L((()=>import("./QuotesUpsell-ClTdemyG.js")),__vite__mapDeps([106,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,84,52,85,107]))}),B({upsellId:F.SOUNDS,name:"Sounds",component:()=>L((()=>import("./SoundsUpsell-Bp9ZVjfu.js")),__vite__mapDeps([108,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,109,110,111,112]))}),B({upsellId:F.TAB_GROUPS,name:"Link Groups",component:()=>L((()=>import("./TabGroupsUpsell-MP2kIlfu.js")),__vite__mapDeps([113,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,114,115,116]))}),B({upsellId:F.TAB_STASH,name:"Tab Stash",component:()=>L((()=>import("./TabStashUpsell-B-rERaZv.js")),__vite__mapDeps([117,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,61,114,118,119]))}),B({upsellId:F.THEMES,name:"Fonts & Themes",component:()=>L((()=>import("./ThemesUpsell-BQ2ZGSpl.js")),__vite__mapDeps([120,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,49,121,122,123]))}),B({upsellId:F.TODO_INTEGRATIONS,name:"Tasks Integrations",component:()=>L((()=>import("./TodoIntegrationsUpsell-CaUAGbzD.js")),__vite__mapDeps([124,97,56,125,110,65,126,46,127,50,128,121,104,51,90,61,103,60,129,130,131,132,80,133,109,70,64,134,115,48,93,135,122,53,89,136,66,100,84,49,85,137,138,114,52,111,81,118,69,139,140,88,141,142,57,96,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,47,143]))}),B({upsellId:F.WEATHER,name:"Detailed Weather",component:()=>L((()=>import("./WeatherUpsell-DB_f4Bdj.js")),__vite__mapDeps([144,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,142,64,131,145]))}),B({upsellId:F.WORLD_CLOCKS,name:"World Clocks",component:()=>L((()=>import("./WorldClocksUpsell-D7bwsZjE.js")),__vite__mapDeps([146,36,37,38,9,1,2,3,4,29,13,39,40,41,6,42,43,44,45,46,47,139,137,115]))}),B({upsellId:F.SITE_BLOCKER,name:"Site Blocker",component:()=>L((()=>import("./SiteBlockerUpsell-CQ62LSDo.js")),__vite__mapDeps([147,1,2,3,4,36,37,38,9,29,13,39,40,41,6,42,43,44,45,46,47,148,149,150,151]))}),B({upsellId:F.SITE_BLOCKER_UNSTOPPABLE,name:"Unstoppable Mode",component:()=>L((()=>import("./SiteBlockerUnstoppableUpsell-B5qlzEe5.js")),__vite__mapDeps([152,1,2,3,4,36,37,38,9,29,13,39,40,41,6,42,43,44,45,46,47,7,8,10]))})],getPlanInfo:!0,transitionName:"slide-fade",onLeave:()=>{_t.initiateNextStep()}}),St=Object.freeze(Object.defineProperty({__proto__:null,default:Et},Symbol.toStringTag,{value:"Module"})),gt=[V.TIP_DAY_ONE_FOCUS_MODE,V.TIP_DAY_TWO_FOCUS_MODE,V.TIP_DAY_THREE_FOCUS_MODE,V.TIP_SURVEY_PMF_TYPEFORM_FREE,V.TIP_ADD_NAME],ht=[V.TIP_USE_ACCOUNT],bt=[V.TIP_SURVEY_PMF_TYPEFORM_PLUS,V.TIP_NEW_METRICS_ICONS,V.TIP_SITE_BLOCKER_UNSTOPPABLE_FOCUS],Ot=[V.TIP_FOCUS_INSIGHT_APP,V.TIP_SITE_BLOCKER_FIRST_TIME,V.TIP_SURVEY_SITE_BLOCKER_TYPEFORM],ft={[V.TIP_NEW_METRICS_ICONS]:"NEW"},It={[V.TIP_ADD_NAME]:"Make Momentum yours ✨",[V.TIP_NEW_METRICS_ICONS]:"Personalize with icons 🎨"},Pt={[V.TIP_DAY_ONE_FOCUS_MODE]:"Mute your distractions and get in the zone. Start a session now!",[V.TIP_DAY_TWO_FOCUS_MODE]:"Starting with deep work will help you navigate your whole day with more flow and ease. Activate focus mode here.",[V.TIP_DAY_THREE_FOCUS_MODE]:"Feeling distracted? Get into the flow state with focus mode.",[V.TIP_FOCUS_INSIGHT_APP]:"You've completed your first focus timer! Stay motivated by using focus goals.",[V.TIP_SITE_BLOCKER_FIRST_TIME]:"Site Blocker helps eliminate the temptation to open distracting websites.",[V.TIP_SURVEY_PMF_TYPEFORM_FREE]:"Would you be interested in helping us improve Momentum?",[V.TIP_SURVEY_PMF_TYPEFORM_PLUS]:"Would you be interested in helping us improve Momentum?",[V.TIP_SURVEY_SITE_BLOCKER_TYPEFORM]:"Do you have a minute to answer three questions about Site Blocker?",[V.TIP_ADD_NAME]:"Add your name and make your new tab a little more magical.",[V.TIP_USE_ACCOUNT]:"Register or sign in to sync your data.",[V.TIP_NEW_METRICS_ICONS]:"You can now choose icons for your metrics, countdowns and world clocks",[V.TIP_SITE_BLOCKER_UNSTOPPABLE_FOCUS]:"Site Blocker stays active until Unstoppable Mode finishes."},yt={[V.TIP_SURVEY_PMF_TYPEFORM_FREE]:"Sure!",[V.TIP_SURVEY_PMF_TYPEFORM_PLUS]:"Sure!",[V.TIP_SURVEY_SITE_BLOCKER_TYPEFORM]:"Sure!"},Rt={width:320},wt="2024-06-18T00:00:00.000Z";V.SURVEY_PMF_TYPEFORM_FREE,V.SURVEY_PMF_TYPEFORM_PLUS,V.SURVEY_SITE_BLOCKER_TYPEFORM,V.SURVEY_GENERAL_FEEDBACK,V.SURVEY_BUG_REPORT,V.SURVEY_BETA_TEST;var Ct=(e=>(e.PmfFree="surveys.pmfTypeformFreeSrc",e.PmfPlus="surveys.pmfTypeformPlusSrc",e.SiteBlocker="surveys.siteBlockerTypeformSrc",e))(Ct||{}),vt=(e=>(e.GeneralFeedback="https://momentumdash.typeform.com/to/wqLzletJ",e.BugReport="https://momentumdash.typeform.com/to/WyBZaaAe",e.BetaTest="https://momentumdash.typeform.com/to/Io3C6FXv",e))(vt||{});const Dt=()=>L((()=>import("./Popup-3lZ9av7x.js")),__vite__mapDeps([5,6,1,2,3,4,7,8,9,10,11,12,13,14,15])),At={[V.TIP_DAY_ONE_FOCUS_MODE]:x({name:Fe(V.TIP_DAY_ONE_FOCUS_MODE,"tip"),component:Dt,componentProps:{...Rt,onPopupClicked:Qe,targetElementSelector:".app-container.focus-mode",position:se.Bottom,bodyText:Pt[V.TIP_DAY_ONE_FOCUS_MODE]},shouldActivate:()=>{if(!ee.focusModeVisible||We())return!1;const{tabs:e,days:t}=je();return t>=1&&e>=3},onShow:qe,onLeave:Je,transitionName:Ue("bottom")}),[V.TIP_DAY_TWO_FOCUS_MODE]:x({name:Fe(V.TIP_DAY_TWO_FOCUS_MODE,"tip"),component:Dt,componentProps:{...Rt,onPopupClicked:Qe,targetElementSelector:".app-container.focus-mode",position:se.Bottom,bodyText:Pt[V.TIP_DAY_TWO_FOCUS_MODE]},shouldActivate:()=>{if(!ee.focusModeVisible||We())return!1;if(!Ge(V.TIP_DAY_ONE_FOCUS_MODE))return!1;const{tabs:e,days:t}=je();return t>=2&&e>=1},onShow:qe,onLeave:Je,transitionName:Ue("bottom")}),[V.TIP_DAY_THREE_FOCUS_MODE]:x({name:Fe(V.TIP_DAY_THREE_FOCUS_MODE,"tip"),component:Dt,componentProps:{...Rt,onPopupClicked:Qe,targetElementSelector:".app-container.focus-mode",position:se.Bottom,bodyText:Pt[V.TIP_DAY_THREE_FOCUS_MODE]},shouldActivate:()=>{if(!ee.focusModeVisible||We())return!1;if(!Ge(V.TIP_DAY_TWO_FOCUS_MODE))return!1;const{tabs:e,days:t}=je();return t>=3&&e>=3},onShow:qe,onLeave:Je,transitionName:Ue("bottom")}),[V.TIP_FOCUS_INSIGHT_APP]:x({name:Fe(V.TIP_FOCUS_INSIGHT_APP,"tip"),component:Dt,componentProps:{...Rt,bodyText:Pt[V.TIP_FOCUS_INSIGHT_APP],targetElementSelector:".focus-mode-metric",position:se.Bottom,alignment:ae.Right,onPopupClicked:()=>{i.$emit("focusModeInsights:open")}},onShow:()=>{i.$on("focusModeInsights:toggled",He)},onLeave:()=>{i.$off("focusModeInsights:toggled",He)},event:"pomodoro:firstSessionCompleted",transitionName:Ue("bottom")}),[V.TIP_SITE_BLOCKER_FIRST_TIME]:x({name:Fe(V.TIP_SITE_BLOCKER_FIRST_TIME,"tip"),component:Dt,componentProps:{...Rt,onPopupClicked:()=>{i.$emit("siteBlocker:open")},targetElementSelector:".app-container.site-blocker",position:se.Bottom,bodyText:Pt[V.TIP_SITE_BLOCKER_FIRST_TIME]},shouldActivate:()=>ee.siteBlockerVisible&&Y.currentValue&&!G.currentValue&&Ye(V.ONBOARDING_FOCUS_MODE,{includeDismissed:!0}),onShow:()=>{i.$on("siteBlocker:toggled",He)},onLeave:()=>{i.$off("siteBlocker:toggled",He)},transitionName:Ue("bottom")}),[V.TIP_SURVEY_PMF_TYPEFORM_FREE]:x({name:Fe(V.TIP_SURVEY_PMF_TYPEFORM_FREE,"tip"),component:Dt,componentProps:{...Rt,targetElementSelector:".app-container.settings .app-dash",position:se.Top,nippleVisible:!1,bodyText:Pt[V.TIP_SURVEY_PMF_TYPEFORM_FREE],ctaText:yt[V.TIP_SURVEY_PMF_TYPEFORM_FREE],ctaTriggersComplete:!0},transitionName:Ue("top"),shouldActivate:async()=>{if(!(await l(Ct.PmfFree))||We())return!1;const{days:e}=je();return e>=14},userCreatedTimeGate:wt,onShow:Ze,onLeave:Xe,onComplete(){m.cmd("modal.open","SURVEY_PMF_TYPEFORM_FREE",{force:!0})}}),[V.TIP_SURVEY_PMF_TYPEFORM_PLUS]:x({name:Fe(V.TIP_SURVEY_PMF_TYPEFORM_PLUS,"tip"),component:Dt,componentProps:{...Rt,targetElementSelector:".app-container.settings .app-dash",position:se.Top,nippleVisible:!1,bodyText:Pt[V.TIP_SURVEY_PMF_TYPEFORM_PLUS],ctaText:yt[V.TIP_SURVEY_PMF_TYPEFORM_PLUS],ctaTriggersComplete:!0},transitionName:Ue("top"),async shouldActivate(){if(!(await l(Ct.PmfPlus))||We())return!1;const e=X();return await T((()=>e.loaded)).toBe(!0),e.subscriptionDaysElapsed>=14},onShow:Ze,onLeave:Xe,userCreatedTimeGate:wt,onComplete(){m.cmd("modal.open","SURVEY_PMF_TYPEFORM_PLUS",{force:!0})},alsoCompletesSteps:[V.TIP_SURVEY_PMF_TYPEFORM_FREE]}),[V.TIP_SURVEY_SITE_BLOCKER_TYPEFORM]:x({name:Fe(V.TIP_SURVEY_SITE_BLOCKER_TYPEFORM,"tip"),component:Dt,componentProps:{...Rt,targetElementSelector:".app-container.settings .app-dash",position:se.Top,nippleVisible:!1,bodyText:Pt[V.TIP_SURVEY_SITE_BLOCKER_TYPEFORM],ctaText:yt[V.TIP_SURVEY_SITE_BLOCKER_TYPEFORM],ctaTriggersComplete:!0},transitionName:Ue("top"),async shouldActivate(){if(!(await l(Ct.SiteBlocker))||We())return!1;const e=(await L((async()=>{const{default:e}=await import("./streaks-Co8maZu5.js").then((e=>e.s));return{default:e}}),__vite__mapDeps([153,6,1,2,3,4]))).default();return e.refresh(),await T((()=>e.loaded)).toBe(!0),e.getValidSitesResistedSince(10)>=3},event:"focusMode:stopped",onShow:Ze,onLeave:Xe,onComplete(){m.cmd("modal.open","SURVEY_SITE_BLOCKER_TYPEFORM",{force:!0})},alsoCompletesSteps:[V.TIP_SURVEY_PMF_TYPEFORM_FREE]}),[V.TIP_USE_ACCOUNT]:x({name:Fe(V.TIP_USE_ACCOUNT,"tip"),component:()=>L((()=>import("./OnboardingUseAccount-d4m4w3Mi.js")),__vite__mapDeps([154,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,155,156,41,42,157,29,158,78,159,160,73,74,161,162,163,45,164,165,166,167,75,76,77,43,168,169,170,171,172,173,174,175,176,177])),componentProps:{bodyText:Pt[V.TIP_USE_ACCOUNT]},transitionName:Ue("top"),shouldActivate:()=>P()&&je().tabs>=2,onShow:Ze,onLeave:Xe}),[V.TIP_ADD_NAME]:x({name:Fe(V.TIP_ADD_NAME,"tip"),component:Dt,componentProps:{...Rt,targetElementSelector:".greeting .name.editing",elementReadyEvent:"message:name:editing",position:se.Bottom,alignment:ae.Center,headerText:It[V.TIP_ADD_NAME],bodyText:Pt[V.TIP_ADD_NAME],clickOutsideTriggersDismiss:!0},transitionName:Ue("bottom"),shouldActivate:()=>{if(""!==te.displayname||We())return!1;const{tabs:e}=je(),t=e>=2;return t&&i.$emit("greeting:name:edit"),t},onShow:()=>{i.$on("message:name:edited",He)},onLeave:()=>{i.$off("message:name:edited",He)}}),[V.TIP_NEW_METRICS_ICONS]:x({name:Fe(V.TIP_NEW_METRICS_ICONS,"tip"),component:Dt,componentProps:{...Rt,targetElementSelector:".base-metric .pinned-items .base-metric-dash .app-dash-base-icon",targetSelectLast:!0,targetDistance:ee.dashAppTextLabels===ne.Always?28:15,position:se.Bottom,alignment:ae.Right,headerBadgeText:ft[V.TIP_NEW_METRICS_ICONS],headerText:It[V.TIP_NEW_METRICS_ICONS],bodyText:Pt[V.TIP_NEW_METRICS_ICONS]},transitionName:Ue("bottom"),shouldActivate:async()=>0!==document.querySelectorAll(".base-metric .pinned-items .base-metric-dash").length||(await xo().saveStepProgress(V.TIP_NEW_METRICS_ICONS,{status:W.Completed}),!1),onShow(){i.$on("baseMetric:toggle",He)},onLeave(){i.$off("baseMetric:toggle",He)}}),[V.TIP_SITE_BLOCKER_UNSTOPPABLE_FOCUS]:x({name:Fe(V.TIP_SITE_BLOCKER_UNSTOPPABLE_FOCUS,"tip"),component:Dt,componentProps:{...Rt,targetElementSelector:".app-container.site-blocker",position:se.Bottom,bodyText:Pt[V.TIP_SITE_BLOCKER_UNSTOPPABLE_FOCUS]},shouldActivate:()=>ie()&&!te.siteBlockerVisible&&!We(),onShow:()=>{i.$on("siteBlocker:opened",He)},onLeave:()=>{i.$off("siteBlocker:opened",He)},transitionName:Ue("bottom")})};async function Nt(){localStorage.removeItem(y),await X().refresh(!0),await _t.refreshOnboarding()}const Lt=e=>{const t=new I({feature:e}),o="free-trial"===e;return{hideOtherApps:!0,transitionName:"fade",component:()=>L((()=>import("./UpgradeModal-D-Ak-Sw3.js")),__vite__mapDeps([178,1,2,3,4,179,180,181,9,182,156,6,41,42,157,29,158,78,183,184,185,186,187,7,8,10,37,19,20,45,188,189,190,191])),onShow:()=>{t.capture("free-trial show",{cardless:o})},onDismiss:async()=>{await _t.refreshOnboarding(),t.capture("free-trial dismiss",{cardless:o})},onComplete:async()=>{await re.onSuccessfulUserLogin(),t.capture("free-trial complete",{cardless:o})},onLeave:async e=>{e===W.Completed&&await Nt()}}},Mt={[V.FREE_TRIAL]:x({getPlanInfo:!0,name:"Free Trial Cardless",componentProps:{feature:"free-trial",startingHeight:"426.38px"},...Lt("free-trial")}),[V.FREE_TRIAL_CARD]:x({name:"Free Trial Card",componentProps:{feature:"checkout",startingHeight:"531px"},...Lt("checkout")})};var kt=(e=>(e.PROCESSING="Processing",e.UNSAVED_DATA="Unsaved-data",e.ERROR="Error",e.ERROR_RESEND="Error-resend",e))(kt||{});const Vt=x({name:"One Time Login",component:()=>L((()=>import("./OneTimeLogin-sYeU7-3u.js")),__vite__mapDeps([192,1,2,3,4,193,6,156,41,42,157,29,158,78,25,26,27,9,28,159,160,73,74,161,162,163,45,12,164,165,166,167,75,76,77,43,168,169,170,171,172,173,174,175,176,194])),subSteps:Object.values(kt).map((e=>B({name:e}))),hideOtherApps:!0,onDismiss:async()=>{await ce()},onComplete:async()=>{await le()},onLeave:async()=>{await de(),S.oneTimeLoginActive=!1}}),Ft=x({name:"Login",component:()=>L((()=>import("./Login-pMYY5vCw.js")),__vite__mapDeps([195,1,2,3,4,9,196])),firstSubStep(){const e=localStorage.getObject(R),t=!!localStorage.getItem(w);return _.isFirefox()&&!t?U.DATA_COLLECTION:(null==e?void 0:e.email)?U.EMAIL:U.NAME},async onComplete(){await le()},async onLeave(){await de(),S.introductionActive=!1},async onShow(){await j()},hideOtherApps:!0,transitionName:"fade",subSteps:[B({name:"Name",component:()=>L((()=>import("./LoginName-DT_a2_R2.js")),__vite__mapDeps([197,198,25,26,27,1,2,3,4,6,9,28,199,7,8,10,200,201,32,202,203,204,205,206,29,207]))}),B({name:"Email",component:()=>L((()=>import("./LoginEmail-CBaAwCqa.js")),__vite__mapDeps([208,198,25,26,27,1,2,3,4,6,9,28,199,7,8,10,200,201,32,202,203,204,205,206,29,156,41,42,157,158,78,187,37]))}),B({name:"Choose Password",component:()=>L((()=>import("./LoginChoosePassword-CtB7Jsrs.js")),__vite__mapDeps([209,198,25,26,27,1,2,3,4,6,9,28,199,7,8,10,200,201,32,202,210,203,204,205,206,211,212,213,29,156,41,42,157,158,78,37]))}),B({name:"Enter Password",component:()=>L((()=>import("./LoginEnterPassword-Dcai3zQY.js")),__vite__mapDeps([214,198,25,26,27,1,2,3,4,6,9,28,199,7,8,10,200,201,32,202,29,210,203,204,205,206,211,212,213,156,41,42,157,158,78,37]))}),B({name:"Reset Password",component:()=>L((()=>import("./LoginResetPassword-ZfDeHmA0.js")),__vite__mapDeps([215,198,25,26,27,1,2,3,4,6,9,28,199,7,8,10,200,201,32,202,210,203,204,205,206,211,212,213,29,156,41,42,157,158,78,37]))}),B({name:"Reset Password Sent",component:()=>L((()=>import("./LoginResetPasswordSent-DGL-6Hz4.js")),__vite__mapDeps([216,198,25,26,27,1,2,3,4,6,9,28,199,7,8,10,200,201,32,202,29,37,217]))}),B({name:"Data Collection",component:()=>L((()=>import("./LoginDataCollection-DpwEDewP.js")),__vite__mapDeps([218,198,25,26,27,1,2,3,4,6,9,28,199,7,8,10,200,201,32,202,29,219]))}),B({name:"Provider",component:()=>L((()=>import("./LoginProvider-Bhl4CjKk.js")),__vite__mapDeps([220,198,25,26,27,1,2,3,4,6,9,28,199,7,8,10,200,201,32,202,29,156,41,42,157,158,78,221,222,223,155,224,37,225,226,159,160,73,74,161,162,163,45,12,164,165,166,167,75,76,77,43,168,169,170,171,172,173,174,175,176,227]))}),B({name:"Add Password Existing account",component:()=>L((()=>import("./LoginAddPasswordExistingAccount-DN6rLLPe.js")),__vite__mapDeps([228,198,25,26,27,1,2,3,4,6,9,28,199,7,8,10,200,201,32,202,210,203,204,205,206,211,212,213,29,156,41,42,157,158,78,221,222,223,155,224,37,159,160,73,74,161,162,163,45,12,164,165,166,167,75,76,77,43,168,169,170,171,172,173,174,175,176,229]))})]}),Ut=x({name:"Plan Chooser",componentProps:{feature:"stripe checkout plan chooser"},hideOtherApps:!0,getPlanInfo:!0,component:()=>L((()=>import("./PlanChooserModal-TxIZXbsq.js")),__vite__mapDeps([230,1,2,3,4,183,184,185,186,187,9,7,8,10,37,19,20,45,6,42,188,189,190,231]))}),xt=[V.ONBOARDING_TAB_STASH,V.ONBOARDING_FOCUS_MODE,V.ONBOARDING_SITE_BLOCKER_GROUPS,V.ONBOARDING_SITE_BLOCKER_WEBSITES,V.ONBOARDING_FOCUS_INSIGHTS,V.ONBOARDING_SOUNDS];var Bt=(e=>(e.Goal="goal",e.Track="track",e))(Bt||{});const jt={goal:"Set a goal to concentrate regularly. You can update the amount and time span in the settings.",track:"Track your stats to stay motivated. See how many focus timers and tasks you've completed in the past."};var Yt=(e=>(e.Eliminate="eliminate",e.Focus="focus",e.Ritual="ritual",e.Personal="personal",e))(Yt||{});const Gt={eliminate:{header:"🙅🏽‍️ Eliminate distractions",body:"Block distracting websites when your focus timer is running. If tempted, your focus task, breathing exercises, and resistance streak will keep you on track."},focus:{header:"🔢️ Focus on one task only",body:"Single-tasking makes working less overwhelming. Automatically show the first task of your todo list here (Plus feature)."},ritual:{header:"⏰️ Make focusing a ritual",body:"Set a goal how much you want to concentrate daily to turn it into a habit!"},personal:{header:"⚙️️ Your personal focus space",body:"Enable features that help you get things done. Committing to focus will help you feel more accomplished!"}};var Wt=(e=>(e.New="new",e.Existing="existing",e))(Wt||{});const $t={new:{header:"🔊‍ Tune in, zone out",body:"Choose from our music selection. Connect streaming services for no ads. Our custom sound scenes are designed to help you concentrate – adjust them to your liking! If your browser is logged into Spotify/YouTube, you're connected. We don't access your data."},existing:{header:"🔊‍ Improved sound experience",body:"We revamped Soundscapes with music and advanced sound customization. Connect streaming services for an ad-free experience. If your browser is logged into Spotify/YouTube, you're connected. We don't access your data."}};var Ht=(e=>(e.Grace="grace",e.Unstoppable="unstoppable",e))(Ht||{});const Kt={grace:{body:"Every time you open a distracting website, we’ll intervene. Set up your blocked sites in the first 5 minutes, after which settings are locked.",button:"Next"},unstoppable:{body:"Feeling distracted? Unstoppable Mode keeps you focused by fully blocking websites until the set time expires. There’s no turnaround!",button:"Got it!"}};var zt=(e=>(e.Customize="customize",e))(zt||{});const qt={customize:{body:"Customize which sites you want to block and add your personal time sinks.",button:"Got it!"}},Jt={width:400,onboardingStyling:!0,secondaryClasses:"button button-tertiary"},Qt=()=>{pe("siteBlocker","enabled",!0),Ke()},Zt=()=>{var e;const t=null==(e=Be())?void 0:e.getTime();return!t||t>=1733449440884},Xt=()=>L((()=>import("./Popup-3lZ9av7x.js")),__vite__mapDeps([5,6,1,2,3,4,7,8,9,10,11,12,13,14,15])),eo=x({name:Fe(V.ONBOARDING_FOCUS_MODE,"onboarding"),component:()=>L((()=>import("./SubStepTipsContainer-2w4phNBY.js")),__vite__mapDeps([17,1,2,3,4,9])),event:"focusMode:started",userCreatedTimeGate:z,hideOtherApps:!1,keepOpenUntilComplete:!0,transitionName:"fade-slide-tip",transitionOnSubStepChange:!0,customCss:"\n\t\t.app-dash, .pomodoro, .focus-mode-metric.app-dash { opacity: 50% !important; }\n\t\t.add-metric-container .app-dash { opacity: 0 !important; }\n\t",alsoCompletesSteps:[V.TIP_SITE_BLOCKER_FIRST_TIME],onShow(){m.on("focusMode:stopping",ze)},onLeave(){m.off("focusMode:stopping",ze)},subSteps:[B({name:Yt.Eliminate,component:Xt,class:xe("down"),customCss:"\n\t\t\t\t\t.site-blocker .app-dash { opacity: 100% !important; }\n\t\t\t\t",beforeShow:async()=>{var e;i.$on("siteBlocker:opened",Qt);const t=Te();C({siteBlockerVisible:!0}),((null==(e=t.apps.siteBlocker)?void 0:e.enabled)??1)||await v(200)},onLeave:async e=>{var t,o;i.$off("siteBlocker:opened",Qt),(null==(t=ue(M.ONBOARDING_VARIANTS_TEST_1))?void 0:t.variantName)===k.ONBOARDING_VARIANT_NOTIFICATION&&Ke(),C({siteBlockerVisible:null});const s=(null==(o=Ee().focusModeSettings.apps.siteBlocker)?void 0:o.enabled)??!0,a=(await L((async()=>{const{default:e}=await import("./siteBlockerSession-BLAHUa0_.js");return{default:e}}),__vite__mapDeps([232,6,1,2,3,4,171,172,166,162,233,73,74,234,169,170,75,76,42,77,78,235,167,156,41,157,29,158,161,236,165]))).default();e===W.Completed&&s&&!a.hasPermissions&&(await a.ensurePermissions(),await T((()=>{var e;return null==(e=Z().activeStep)?void 0:e.name})).toBe("Focus Mode Onboarding"))},componentProps:{...Jt,targetElementSelector:".app-container.site-blocker",position:se.Bottom,ctaText:"Block sites",ctaTriggersComplete:!0,ctaCallback:async()=>{await pe("siteBlocker","enabled",!0)},secondaryText:"Disable Site Blocker",secondaryTriggersComplete:!0,secondaryCallback:async()=>{await pe("siteBlocker","enabled",!1)},headerText:Gt[Yt.Eliminate].header,bodyText:Gt[Yt.Eliminate].body}}),B({name:Yt.Focus,component:Xt,class:xe("up"),customCss:"\n\t\t\t\t\t.pomodoro { opacity: 100% !important; }\n\t\t\t\t",componentProps:{...Jt,targetElementSelector:".pomodoro-focus .prompt",targetDistance:15,position:se.Right,alignment:ae.Left,nippleVisible:!1,ctaText:"Next",ctaTriggersComplete:!0,secondaryText:"Sync with Tasks",secondaryIcon:"refresh-ccw",secondaryCallback(){if(ee.autoFocus)return Ke();m.commandManager.execute("todo.toggle.autofocus",null,{sourceApp:"Focus Mode Onboarding",eventSource:"focus"}),m.conditionalFeatures.featureEnabled("pinfocus")&&Ke()},headerText:Gt[Yt.Focus].header,bodyText:Gt[Yt.Focus].body}}),B({name:Yt.Ritual,component:Xt,class:xe("down"),customCss:"\n\t\t\t\t\t.focus-mode-metric .app-dash { opacity: 100% !important; }\n\t\t\t\t",beforeShow:async()=>{const e=Te();C({focusInsightVisible:!0}),e.focusInsightVisible||await v(200)},onLeave(){C({focusInsightVisible:null})},componentProps:{...Jt,targetElementSelector:".focus-mode-metric",targetDistance:15,position:se.Bottom,alignment:ae.Right,nippleVisible:!1,ctaText:"Next",ctaTriggersComplete:!0,headerText:Gt[Yt.Ritual].header,bodyText:Gt[Yt.Ritual].body}}),B({name:Yt.Personal,component:Xt,class:xe("down"),customCss:"\n\t\t\t\t\t.settings .app-dash { opacity: 100% !important; }\n\t\t\t\t",beforeShow:()=>{m.on("settings:hidden",Ke),i.$emit("settings:open",_e.FocusMode)},onLeave(){m.off("settings:hidden",Ke)},componentProps:{...Jt,elementReadyEvent:"settings:focusMode:mounted",targetElementSelector:".settings .app.popup",position:se.Right,alignment:ae.Left,nippleVisible:!1,ctaText:"I'm ready to focus!",ctaCallback(){i.$emit("settings:close")},ctaTriggersComplete:!0,headerText:Gt[Yt.Personal].header,bodyText:Gt[Yt.Personal].body}})]}),to=x({name:"Tab Stash Onboarding",event:"tabStash:opened",component:()=>L((()=>import("./SubStepTipsContainer-2w4phNBY.js")),__vite__mapDeps([17,1,2,3,4,9])),userCreatedTimeGate:z,transitionName:"fade-slide-tip",onShow:()=>{m.on("tabStash:closed",ze)},onLeave:()=>{m.off("tabStash:closed",ze)},subSteps:[B({name:"Tab Stash",component:()=>L((()=>import("./Popup-3lZ9av7x.js")),__vite__mapDeps([5,6,1,2,3,4,7,8,9,10,11,12,13,14,15])),class:xe("down"),componentProps:{...Jt,bodyText:"Save and restore tabs for distraction-free focus.",targetElementSelector:".tabs .app .app-header",position:se.Right,targetDistance:5,nippleAlignmentOffset:0,ctaText:"Ok",ctaTriggersComplete:!0,imageUrl:"https://content.momentumdash.com/blogimages/4e6db10c-e4b8-4970-a92b-2f22baac4eb1",visualIsVideo:!0}})]}),oo=()=>L((()=>import("./Popup-3lZ9av7x.js")),__vite__mapDeps([5,6,1,2,3,4,7,8,9,10,11,12,13,14,15])),so=x({name:Fe(V.ONBOARDING_SITE_BLOCKER_GROUPS,"onboarding"),component:()=>L((()=>import("./SubStepTipsContainer-2w4phNBY.js")),__vite__mapDeps([17,1,2,3,4,9])),event:"siteBlockerGroups:opened",transitionName:"fade-slide-tip",hideOtherApps:!1,transitionOnSubStepChange:!0,keepOpenUntilComplete:!0,firstSubStep:()=>Y.currentValue?0:1,beforeShow:async()=>{await T((()=>Se().loaded)).toBe(!0),await T((()=>Se().loading)).toBe(!1),await v(300)},onShow:()=>{i.$on("siteBlocker:closed",ze),i.$on("siteBlockerGroups:closed",ze)},onLeave:()=>{i.$off("siteBlocker:closed",ze),i.$off("siteBlockerGroups:closed",ze)},subSteps:[B({name:Ht.Grace,component:oo,class:xe("down"),componentProps:{...Jt,targetElementSelector:"#site-blocker-grace-period",position:se.Right,alignment:ae.Center,targetDistance:20,ctaText:Kt[Ht.Grace].button,ctaTriggersComplete:!0,bodyText:Kt[Ht.Grace].body}}),B({name:Ht.Unstoppable,component:oo,class:xe("down"),componentProps:{...Jt,targetElementSelector:"#site-blocker-unstoppable-mode",position:se.Right,targetDistance:5,ctaText:Kt[Ht.Unstoppable].button,ctaTriggersComplete:!0,bodyText:Kt[Ht.Unstoppable].body}})]}),ao=x({name:Fe(V.ONBOARDING_SITE_BLOCKER_WEBSITES,"onboarding"),component:oo,event:"siteBlockerWebsites:opened",transitionName:"fade-blurred-tip-app",hideOtherApps:!1,keepOpenUntilComplete:!0,onShow:()=>{i.$on("siteBlocker:closed",ze),i.$on("siteBlockerWebsites:closed",ze)},onLeave:()=>{i.$off("siteBlocker:closed",ze),i.$off("siteBlockerWebsites:closed",ze)},componentProps:{...Jt,targetElementSelector:".site-blocker .site-blocker-websites .app-header",position:se.Right,targetDistance:10,ctaText:qt[zt.Customize].button,ctaTriggersComplete:!0,bodyText:qt[zt.Customize].body}}),no=()=>L((()=>import("./Popup-3lZ9av7x.js")),__vite__mapDeps([5,6,1,2,3,4,7,8,9,10,11,12,13,14,15])),io=x({name:Fe(V.ONBOARDING_FOCUS_INSIGHTS,"onboarding"),event:"focusInsightsApp:opened",component:()=>L((()=>import("./SubStepTipsContainer-2w4phNBY.js")),__vite__mapDeps([17,1,2,3,4,9])),transitionOnSubStepChange:!0,transitionName:"fade-slide-tip",onShow:()=>{m.on("focusInsightsApp:closed",ze)},onLeave:()=>{m.off("focusInsightsApp:closed",ze)},subSteps:[B({name:Bt.Goal,component:no,class:xe("down"),componentProps:{...Jt,bodyText:jt[Bt.Goal],targetElementSelector:".focus-mode-metric .weekly-time",position:se.Left,targetDistance:36,nippleAlignmentOffset:10,ctaText:"Next",ctaTriggersComplete:!0}}),B({name:Bt.Track,component:no,class:xe("down"),componentProps:{...Jt,bodyText:jt[Bt.Track],targetElementSelector:".focus-mode-metric .cell-metric:first-child",position:se.Left,targetDistance:26,ctaText:"Got it!",ctaTriggersComplete:!0}})]}),ro=async({appsEnabled:e}={})=>new Promise((t=>{const o=()=>{m.trigger("focusMode:start"),m.once("focusMode:started",t)},s=!te.focusModeVisible;s&&i.$once("focusMode:ready",(()=>o())),te.focusModeVisible=!0,null==e||e.forEach((e=>{pe(e,"enabled",!0)})),Y.currentValue||s?Y.currentValue&&t():o()})),co=()=>{D("https://moda.sh/release-notes")},lo=()=>ue("release_update_site_blocker_visual"),po=x({name:"Sounds Onboarding",component:()=>L((()=>import("./Popup-3lZ9av7x.js")),__vite__mapDeps([5,6,1,2,3,4,7,8,9,10,11,12,13,14,15])),event:"sounds:opened",userCreatedTimeGate:z,keepOpenUntilComplete:!0,transitionName:"fade-slide-down",onShow(){i.$on("sounds:closed",ze)},onLeave(){i.$off("sounds:closed",ze)},componentProps:{...Jt,targetElementSelector:".sounds-library",targetDistance:5,position:se.Right,alignment:ae.Left,nippleVisible:!1,ctaText:Zt()?"Start exploring":"Release Notes",ctaTriggersComplete:!0,ctaCallback(){Zt()||co()},headerText:$t[Zt()?Wt.New:Wt.Existing].header,bodyText:$t[Zt()?Wt.New:Wt.Existing].body}}),mo={[V.ONBOARDING_FOCUS_MODE]:eo,[V.ONBOARDING_TAB_STASH]:to,[V.ONBOARDING_SITE_BLOCKER_GROUPS]:so,[V.ONBOARDING_SITE_BLOCKER_WEBSITES]:ao,[V.ONBOARDING_FOCUS_INSIGHTS]:io,[V.ONBOARDING_SOUNDS]:po},uo=(e,t)=>{const o=new I({feature:`survey pmf typeform ${d(e)}`});return{component:()=>L((()=>import("./SurveyIframeModal-BCbPKGAa.js")),__vite__mapDeps([237,1,2,3,4,19,7,8,9,10,20,6,29,159,160,73,74,161,162,163,45,42,78,12,164,165,166,156,41,157,158,167,75,76,77,43,168,169,170,171,172,173,174,175,176,238])),componentProps:{src:t},onShow(){o.capture(`survey pmf show ${e} typeform`)},onDismiss(){o.capture(`survey pmf dismiss ${e} typeform`)}}},_o={[V.SURVEY_PMF_TYPEFORM_FREE]:x({name:Fe(V.SURVEY_PMF_TYPEFORM_FREE,"survey"),...uo("free",Ct.PmfFree)}),[V.SURVEY_PMF_TYPEFORM_PLUS]:x({name:Fe(V.SURVEY_PMF_TYPEFORM_PLUS,"survey"),...uo("plus",Ct.PmfPlus)}),[V.SURVEY_SITE_BLOCKER_TYPEFORM]:x({name:Fe(V.SURVEY_SITE_BLOCKER_TYPEFORM,"survey"),...uo("site blocker",Ct.SiteBlocker)}),[V.SURVEY_GENERAL_FEEDBACK]:x({name:Fe(V.SURVEY_GENERAL_FEEDBACK,"survey"),...uo("general feedback",vt.GeneralFeedback)}),[V.SURVEY_BUG_REPORT]:x({name:Fe(V.SURVEY_BUG_REPORT,"survey"),...uo("bug report",vt.BugReport)}),[V.SURVEY_BETA_TEST]:x({name:Fe(V.SURVEY_BETA_TEST,"survey"),...uo("beta test",vt.BetaTest)})},To=x({name:"Pomodoro switcher moved",component:()=>L((()=>import("./Popup-3lZ9av7x.js")),__vite__mapDeps([5,6,1,2,3,4,7,8,9,10,11,12,13,14,15])),componentProps:{width:350,bodyText:"We've given Pomodoro a new home. You'll now find it in here.",ctaText:"Got it!",ctaTriggersComplete:!0,targetElementSelector:".clock .more-toggle .icon-ellipsis",targetDistance:5,imageUrl:"https://momentum.photos/assets/89478a9e-3314-4e69-b5fa-5984bb6c0cdd",visualIsVideo:!0},transitionName:"base-dropdown-transition-fade",customCss:".clock .more-toggle .icon-ellipsis, .clock .portal-toggle { opacity: 1 !important; }",shouldActivate:async()=>{const e=(await L((async()=>{const{usePomodoroCompletedStore:e}=await import("./pomodoroCompleted-Cm_ahB75.js").then((e=>e.c));return{usePomodoroCompletedStore:e}}),__vite__mapDeps([235,6,1,2,3,4,42,73,74,76,78,233,167,156,41,157,29,158,161,236]))).usePomodoroCompletedStore(),t=(await L((async()=>{const{default:e}=await import("./SubscriptionSummary-BQ9oLLHV.js").then((e=>e.b));return{default:e}}),__vite__mapDeps([45,1,2,3,4,6,42]))).default(),o=17256672e5;return e.refresh(),await T((()=>e.loaded)).toBe(!0),await T((()=>t.loaded)).toBe(!0),await T((()=>t.loading)).toBe(!1),null!==t.firstSubscriptionStart&&new Date(t.firstSubscriptionStart).getTime()<o&&e.data.some((e=>new Date(e.completed).getTime()<o))&&!0===te.clockVisible&&"true"!==localStorage.getItem("pomodoro-showing")},onShow(){m.on("clock:dropdownToggled",He)},onLeave(){m.off("clock:dropdownToggled",He)}}),Eo={title:"Calendar, Music & Icons",description:"New Spotify, YouTube, Google Calendar integrations",notes:["Explore Spotify, YouTube, or our own soundscapes directly from your dashboard without getting distracted.","Google Calendar integration: See time until next event, your schedule for the next 2 days, and start focusing until your next event.","For a minimal look, hide app labels and customize with icons."],visualSrc:"/img/release/calendar-sounds-two-point-one-icons.png",visualIsVideo:!1,accentColor:"201 92% 30%",buttons:[{text:"Activate Calendar",callback:async()=>{await(async()=>{oe({calendarVisible:!0,centerBelowVisible:!0,centerBelowApp:ge.Schedule}),await he("release update modal").catch((e=>{console.error(e)}))})()},primary:!0,dismiss:!0},{text:m.conditionalFeatures.featureEnabled("plus")?"Open Sounds":"Explore Sounds in Focus Mode",callback:async()=>{m.conditionalFeatures.featureEnabled("plus")?(te.soundscapesVisible=!0,await(await L((async()=>{const{useSoundsViewStateStore:e}=await import("./soundsViewState-BFwTZI5X.js");return{useSoundsViewStateStore:e}}),__vite__mapDeps([239,169,6,1,2,3,4,170]))).useSoundsViewStateStore().togglePopup(!0)):await ro({appsEnabled:["soundscapes"]})},primary:!m.conditionalFeatures.featureEnabled("plus"),dismiss:!0},{text:"Learn more",callback:()=>{co()},primary:!1,dismiss:!1}]},So={title:"Focus Mode 1.2",description:"Your focus just got an upgrade",notes:["New picture-in-picture mode allows you to always see your focus timer.","Prefer not to use Pomodoro? Enable Countup mode.","A fully updated timer, fullscreen view, smoother transitions, sounds that sync with the timer and more!"],visualSrc:"/img/release/focus-mode-one-point-two.png",visualIsVideo:!1,accentColor:"180 87% 30%",buttons:[{text:"Try now in Focus Mode",callback:async()=>{await ro({appsEnabled:["siteBlocker"]})},primary:!0,dismiss:!0},{text:"Learn more",callback:()=>{co()},primary:!1,dismiss:!1}]},go={title:"Site Blocker",description:"Protect your focus with Site Blocker",notes:["Introducing Site Blocker: our new tool to block distracting websites during Focus Mode.","Here’s how it works: When you go to open a distracting website, an intervention will appear.","The intervention screen reminds you of your current task, goal, or intention."],visualSrc:"video"===(null==(e=lo())?void 0:e.variantName)?"https://momentum.photos/assets/e5b0b49c-004e-4609-81c5-ba7a4a6a1242":"/img/release/site-blocker.png",visualIsVideo:"video"===(null==(t=lo())?void 0:t.variantName),accentColor:"242 70% 52%",buttons:[{text:"Try now for free in Focus Mode",callback:async()=>{await ro({appsEnabled:["siteBlocker"]}),Ye(V.ONBOARDING_FOCUS_MODE,{includeDismissed:!0})&&Ye(V.TIP_SITE_BLOCKER_FIRST_TIME,{includeDismissed:!0})&&i.$emit("siteBlocker:open")},primary:!0,dismiss:!0},{text:"Learn more",callback:()=>{co()},primary:!1,dismiss:!1}]},ho="releaseUpdateModalCheck",bo=x({name:"Release Update",component:()=>L((()=>import("./ReleaseUpdateModal-Cx6HFoDP.js")),__vite__mapDeps([240,1,2,3,4,19,7,8,9,10,20,29,6,241])),shouldActivate:async()=>{const e=!!(await p.get(ho)),t=G.currentValue||Y.currentValue,o=e&&!t;return o&&p.delete(ho),o},componentProps:{...[Eo,So,go][0]}}),Oo=x({name:"Setup Dashboard",component:()=>L((()=>import("./SetupUnregisteredDashboard-DQHaLd5a.js")),__vite__mapDeps([242,1,2,3,4,156,6,41,42,157,29,158,78,25,26,27,9,28,243])),hideOtherApps:!0,async onComplete(){await j(),await le()},async onLeave(){await de(),S.introductionActive=!1}}),fo=x({name:"Modal Introduction",component:()=>L((()=>import("./OnboardingModalIntroduction-CSQGZkr6.js")),__vite__mapDeps([244,1,2,3,4,19,7,8,9,10,20,245])),onShow(){p.delete(ho)},transitionName:"fade-modal-box",transitionDuration:500,hideOtherApps:!1,keepOpenUntilComplete:!0,subSteps:[B({name:ke.Motivation,headerText:Ve[ke.Motivation].header,bodyText:Ve[ke.Motivation].body,imageUrl:"motivation.png",ctaText:"Next"}),B({name:ke.Procrastination,headerText:Ve[ke.Procrastination].header,bodyText:Ve[ke.Procrastination].body,imageUrl:"procrastination.png",ctaText:"Next",secondaryText:"Try Plus for free",secondaryCallback:()=>{m.cmd("modal.open","FREE_TRIAL",{force:!0})}}),B({name:ke.Focus,headerText:Ve[ke.Focus].header,bodyText:Ve[ke.Focus].body,imageUrl:"focus.png",ctaText:"Try Focus Mode",ctaCallback:async()=>{Qe(),await T((()=>G.currentValue)).toBe(!0)},secondaryText:"Explore dashboard",secondaryTriggersComplete:!0})]}),Io=x({name:"Team Expired",hideOtherApps:!0,component:()=>L((()=>import("./TeamExpired-DPyFfVBQ.js")),__vite__mapDeps([246,1,2,3,4,188,9,189,247]))}),Po=new class{add(e={}){Object.entries(e).forEach((([e,t])=>{me[e]().then((e=>{"function"==typeof e?e().mockData(Object.fromEntries(t.map((e=>[e.id,e])))):e.mockData(t)}))}))}clear(e=[]){e.forEach((e=>{me[e]().then((e=>{"function"==typeof e?e().clearMockData():e.clearMockData()}))}))}},yo=()=>L((()=>import("./Popup-3lZ9av7x.js")),__vite__mapDeps([5,6,1,2,3,4,7,8,9,10,11,12,13,14,15])),Ro=x({name:"Plus Notification Introduction",component:()=>L((()=>import("./SubStepTipsContainer-2w4phNBY.js")),__vite__mapDeps([17,1,2,3,4,9])),hideOtherApps:!1,transitionName:"fade-slide-tip",transitionOnSubStepChange:!0,plusSubscriptionTimeGate:"2022-06-05T00:00:00.000Z",keepOpenUntilComplete:!0,customCss:"\n\t\t.app-dash,\n\t\t.pomodoro,\n\t\t.focus-mode-metric.app-dash,\n\t\t.links-dash.pinned-links,\n\t\t.clock,\n\t\t.mantra,\n\t\t.greeting,\n\t\t.focus-wrapper\n\t\t{ opacity: 50% !important; }\n\t",onShow(){m.on("focusMode:starting",ze),Ze()},onLeave(){m.off("focusMode:starting",ze),Xe()},subSteps:[B({name:Re.Customize,component:yo,class:xe("up"),beforeShow:async()=>{C({clockVisible:!0,greetingVisible:!0,mantraVisible:!0,quoteVisible:!0}),te.quoteVisible||(m.once("quote:created",(()=>{m.trigger("quote:override",Ce[0])})),await v(300))},onLeave:async()=>{C({clockVisible:null,greetingVisible:null,mantraVisible:null,quoteVisible:null}),te.quoteVisible||await v(300),m.trigger("quote:override","")},customCss:"\n\t\t\t\t\t.quote\n\t\t\t\t\t.app-dash,\n\t\t\t\t\t.photo-info\n\t\t\t\t\t.app-dash,\n\t\t\t\t\t.settings\n\t\t\t\t\t.app-dash,\n\t\t\t\t\t.mantra,\n\t\t\t\t\t.greeting { opacity: 100% !important; }\n\t\t\t\t",componentProps:{...Me,id:Re.Customize,targetElementSelector:".quote .app-dash",targetDistance:13,position:se.Top,alignment:ae.Center,ctaText:"What else?",ctaTriggersComplete:!0,secondaryTriggersComplete:!0,secondaryText:"Customize in Settings",secondaryCallback:async()=>{i.$emit("settings:open",_e.Quotes),await new Promise((e=>{m.on("settings:hidden",e)}))},subHeaderText:"Step 1 of 4",headerText:we[Re.Customize].header,bodyText:we[Re.Customize].body}}),B({name:Re.Glance,component:()=>L((()=>import("./OnboardingTipNotificationIntroduction-CAHVVuED.js")),__vite__mapDeps([248,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,249])),class:xe("down"),beforeShow:async()=>{Po.add(ve),C({metricVisible:!0,countdownVisible:!0,multiClockVisible:!0,searchVisible:!1,soundscapesVisible:!1,tabsVisible:!1,siteBlockerVisible:!1}),te.searchVisible&&await v(200)},onLeave(){C({metricVisible:null,countdownVisible:null,multiClockVisible:null,searchVisible:null,soundscapesVisible:null,tabsVisible:null,siteBlockerVisible:null}),Po.clear(Object.keys(ve))},customCss:"\n\t\t\t\t\t.add-metric .app-dash, .dash-items .base-metric-dash { opacity: 100% !important; pointer-events: none; }\n\t\t\t\t\t.base-metric-dash .metric-adjust { display: none; }\n\t\t\t\t",componentProps:{...Me,id:Re.Glance,targetElementSelector:'[data-type="countdown"].base-metric-dash',targetDistance:10,position:se.Bottom,alignment:ae.Left,ctaText:"Next",ctaTriggersComplete:!0,subHeaderText:"Step 2 of 4",headerText:we[Re.Glance].header,bodyText:we[Re.Glance].body,tipClickSelector:".dash-items",tipTargetSelector:'[data-type="clock"].base-metric-dash',tipText:we[Re.Glance].tip}}),B({name:Re.Tasks,component:yo,class:xe("up"),beforeShow:async()=>{i.$on("tasks:closed",Ke),C({todoVisible:!0,focusVisible:!0,searchVisible:!1,autoFocus:!1}),Po.add(Le);const e=be();e.listTitle=De,e.todos=Ae,e.providerIcon=Ne;const t=Oe();await t.setActiveView(fe.Mock),await t.togglePopup(!0,{resetActiveView:!1}),await v(200)},onLeave:async()=>{Po.clear(Object.keys(Le)),i.$off("tasks:closed",Ke),await Oe().togglePopup(!1),C({todoVisible:null,focusVisible:null,searchVisible:null,autoFocus:null})},customCss:"\n\t\t\t\t\t.todo .app-dash { opacity: 100% !important; }\n\t\t\t\t\t.focuses.app-container { pointer-events: none; }\n\t\t\t\t",componentProps:{...Me,id:Re.Tasks,targetElementSelector:".todo .app.popup",position:se.Top,alignment:ae.Center,nippleVisible:!1,targetDistance:8,width:320,ctaText:"Next",ctaTriggersComplete:!0,secondaryText:"Add integration",secondaryTriggersComplete:!0,secondaryCallback:async()=>{i.$emit("settings:open",_e.Todo),await new Promise((e=>{m.on("settings:hidden",e)}))},subHeaderText:"Step 3 of 4",headerText:we[Re.Tasks].header,bodyText:we[Re.Tasks].body}}),B({name:Re.Focus,component:yo,class:xe("down"),beforeShow(){m.trigger("pomodoro:show")},onLeave(){m.trigger("pomodoro:show",!1)},customCss:"\n\t\t\t\t\t.top-left .app-dash, .pomodoro { opacity: 100% !important; }\n\t\t\t\t",componentProps:{...Me,id:Re.Focus,targetElementSelector:".focus-mode .app-dash",ctaText:"Learn more about Plus",ctaCallback(){D("https://get.momentumdash.help/hc/en-us/categories/115001272227-Momentum-Plus")},ctaTriggersComplete:!0,subHeaderText:"Step 4 of 4",headerText:we[Re.Focus].header,bodyText:we[Re.Focus].body}})]}),wo=x({name:"Chrome New Tab Footer",component:()=>L((()=>import("./Popup-3lZ9av7x.js")),__vite__mapDeps([5,6,1,2,3,4,7,8,9,10,11,12,13,14,15])),autoDismiss:!1,userCreatedTimeGate:z,shouldActivate(){const e=A();return!!(N()&&e&&e>=138)},customClasses:"pad-image",componentProps:{targetElementSelector:".settings.app-container",position:se.Top,headerText:"Seeing a banner at the bottom?",bodyText:"That's Chrome's new footer. To hide it, right-click it and select 'Hide Footer on New Tab Page'.",imageUrl:"https://momentum.photos/assets/eb79de23-cb3d-4bfc-8fb1-1516bfac1e94",notificationStyling:{},ctaCallback(){D("https://get.momentumdash.help/hc/en-us/articles/34300694416151-What-is-this-grey-bar-at-the-bottom-of-my-screen","_blank")}}}),Co={[V.SETUP_UNREGISTERED_DASHBOARD]:Oo,[V.LOGIN]:Ft,[V.ONE_TIME_LOGIN]:Vt,[V.RELEASE_UPDATE]:bo,[V.FREE_INTRODUCTION]:fo,[V.FREE_VIDEO_INTRODUCTION]:ot,[V.PLUS_INTRODUCTION]:Ro,[V.PLAN_CHOOSER]:Ut,[V.TEAM_EXPIRED]:Io,[V.FAVICON_PERMISSION]:x({name:"Favicon Permission",component:()=>L((()=>import("./FaviconPermission-rPxaowRz.js")),__vite__mapDeps([250,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,236,29,168,169,170,251,252])),transitionName:"base-dropdown-transition-fade"}),[V.CHROME_NEW_TAB_FOOTER]:wo,[V.POMODORO_SWITCHER]:To,[V.SAFARI_ACCOUNT]:x({name:"Safari account modal",component:()=>L((()=>import("./SafariAccount-BIFxNLvG.js")),__vite__mapDeps([253,1,2,3,4,25,26,27,6,9,28,254,38,255])),customCss:".step-container { background: white; } .modal { --modal-height: auto!important; }",transitionName:"fade"}),[V.PERMISSION_REQUEST]:x({name:"Permission request",component:()=>L((()=>import("./PermissionRequest-Dj0LjIbf.js")),__vite__mapDeps([256,233,1,2,3,4,25,26,27,6,9,28,257,258])),transitionName:"fade"}),[V.UPSELLS]:Et,...Mt,...At,...mo,..._o},vo=Object.entries(Co).reduce(((e,[t,o])=>({...e,[t]:{...o,id:t}})),{}),Do=b()?[]:[V.RELEASE_UPDATE],Ao=[V.FREE_INTRODUCTION,...Do,...ht,V.CHROME_NEW_TAB_FOOTER,...gt],No=[V.FREE_INTRODUCTION,...Do,V.CHROME_NEW_TAB_FOOTER,...gt],Lo=[V.PLUS_INTRODUCTION,...Do,V.CHROME_NEW_TAB_FOOTER,...bt,V.POMODORO_SWITCHER],Mo=[...Ot,...xt],ko={unregistered:[...Ao,...Mo],free:[...No,...Mo],plus:[...Lo,...Mo],teamMember:[...Do,V.CHROME_NEW_TAB_FOOTER,...Mo],teamAdmin:[...Do,V.CHROME_NEW_TAB_FOOTER,...Mo]},Vo={all:Object.keys(vo),upsells:Object.keys(Et),...ko},Fo=pt(),Uo=(e=(()=>new a("onboardingSteps",{mode:n.TimestampStrict,path:"onboarding_steps",queryParams:{update:{update_mask:"*"}}}))())=>r("onboarding",{state:()=>({items:{},loading:!1,itemsLoaded:!1}),actions:{async refresh(){if(!this.loading)return this.loading=!0,this.itemsLoaded?e.refresh():Promise.allSettled([new Promise(((t,o)=>{e.get({success:e=>{const o=[];e.forEach((e=>{O.set(this.items,e.id,e),e.id&&o.push(e.id)})),Object.keys(this.items).forEach((e=>{o.includes(e)||O.delete(this.items,e)})),this.itemsLoaded=!0,t()},failure(e){console.error(e),o(e)}})})),Fo.refresh()]).finally((()=>{this.loading=!1}))},async saveStepProgress(t,{status:o=W.Active,activeSubStepIndex:s=0,data:a={}}={}){"string"==typeof t&&(t=vo[t]);const n=this.getStep(t);if(n){const r=structuredClone(n);if(n.status=o,n.data={...n.data,...a,activeSubStepIndex:s},!Object.keys({...Q(n,r),...Q(n.data,r.data)}).length)return void console.warn(`Onboarding: ${t.id||t} redundantly saved with no changes detected`);try{O.set(this.items,n.id,{...n}),await e.update(n.id,n)}catch(i){O.set(this.items,n.id,r),console.error(i)}}else{const n=q(o)?Date.now():null,r=new Ie({name:t.id,status:o,data:{activeSubStepIndex:s,dateCompleted:n,...a}});O.set(this.items,r.id,{...r});try{await e.create(r.id,r)}catch(i){console.error(i),O.delete(this.items,r.id)}}t.alsoCompletesSteps&&q(o)&&await Promise.all(t.alsoCompletesSteps.map((e=>{const t=vo[e],s=this.getStep(t);return s&&q(s.status)?Promise.resolve():this.saveStepProgress(t,{status:o})})))},getStep(e){let t,o,s={};if("string"==typeof e){if(t=e,J(t)){const e=vo[t];"legacyId"in e&&(o=e.legacyId),s=Fo.getStepLocalData(t)}}else t=e.id,o=e.legacyId,s=Fo.getStepLocalData(t);const a=Object.values(this.items).find((e=>!(!o||e.status!==W.Legacy||e.name.toLowerCase()!==o)||e.name===t));return a?new Ie({...a,data:{...a.data,...s}}):null},async deleteStepProgress(t){var o;const s=null==(o=this.items[t])?void 0:o.name;return s&&await Fo.deleteStepLocalData(s),O.delete(this.items,t),e.delete(t)}}}),xo=Uo(),Bo=Object.freeze(Object.defineProperty({__proto__:null,makeOnboardingStore:Uo,useOnboardingStore:xo},Symbol.toStringTag,{value:"Module"}));export{kt as O,Ct as S,ct as a,Vo as b,St as c,vo as d,nt as e,Bo as f,dt as g,Tt as o,Nt as r,xo as u};