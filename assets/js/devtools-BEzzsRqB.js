const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index-DM3Q2nkp.js","assets/js/state-odjm2uKU.js","assets/js/LocalStorageStoreSyncedItem-kVGQtJA7.js","assets/js/index-DY0DW88M.js","assets/js/Logger-CErMjlBd.js","assets/js/style-cpFB66wV.js","assets/css/style-CrTXrpPu.css","assets/js/DataSyncService-BnTv72BN.js","assets/js/PomodoroTimers-CqOVDo7T.js","assets/js/persistStore-CE5fTtZd.js","assets/js/settings-rA0qDzbq.js","assets/js/reactiveCustomization-B8WwDagp.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./style-cpFB66wV.js";import t from"./icon-confetti-BvRSomF2.js";import{e as o}from"./DataSyncService-BnTv72BN.js";import{persistentObjectSettings as n}from"./reactiveCustomization-B8WwDagp.js";import"./index-DY0DW88M.js";import"./Logger-CErMjlBd.js";var s="https://api.momentumdash.com/";m.models.DevTools=Backbone.Model.extend({stringDebugDelimiter:"┇",logEnvironment:m.logEnvironment,initialize:function(){setTimeout(_.bind(this.onDashboardReady,this),100)},onDashboardReady:function(){this.setDevShortcuts(),this.initDevStates()},setDevShortcuts:function(){let e=this;$(document).on("keydown",(function(t){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName&&!0!==document.activeElement.isContentEditable&&(55===t.keyCode&&t.shiftKey?e.toggleBalanceMode():56===t.keyCode?e.toggleLoggingMEvents():81!==t.keyCode||t.ctrlKey||t.shiftKey?81===t.keyCode&&!t.ctrlKey&&t.shiftKey?e.prevThemeColor():81===t.keyCode&&t.ctrlKey?e.resetTheme():82!==t.keyCode||t.metaKey?85!==t.keyCode||!t.ctrlKey||t.altKey||t.shiftKey||t.metaKey?221===t.keyCode?e.toggleFeatureDebug("instrumentation"):220!==t.keyCode||t.ctrlKey||t.altKey||t.shiftKey||t.metaKey?220===t.keyCode&&t.shiftKey?e.toggleFeatureDebug("time"):68!==t.keyCode||t.ctrlKey||t.shiftKey||t.metaKey?68!==t.keyCode||t.ctrlKey||!t.shiftKey||t.metaKey?68===t.keyCode&&t.ctrlKey&&t.shiftKey&&!t.metaKey?e.triggerNewDay():76===t.keyCode&&t.metaKey&&t.shiftKey?e.logEnvironment():90!==t.keyCode||t.shiftKey?90===t.keyCode&&t.shiftKey?e.toggleClockFormat():88===t.keyCode?e.toggleCssDebug():77===t.keyCode&&t.shiftKey&&!t.ctrlKey&&e.toggleMantras():e.togglePercentClock():e.prevThemeFont():e.nextThemeFont():e.toggleFeatureDebug("countdown"):e.toggleClockPosition():e.reloadPage():e.nextThemeColor())}))},onTimeChange:function(e){m.devTools.log("Time change: "+e.getTimeString(),4)},initDevStates:function(){this.getFeatureDebug("css")&&$("body").addClass("debug"),this.getFeatureDebug("clockPosition")&&this.updateClockPosition()},nextThemeColor:function(){this.cycleThemeArray(!1,!0)},prevThemeColor:function(){this.cycleThemeArray(!1,!1)},resetTheme:function(){if(!this.isPlusUser())return;m.models.customization.save("themeColour","dark"),m.models.customization.save("themeFont","classic");let e="THEME: dark, FONT 1: classic";return this.log(e),e},reloadPage:function(e){e?(i.log("Reloading page in "+e/1e3+"s…",8),setTimeout((function(){window.location.reload()}),e)):(i.log("Reloading page…",8),window.location.reload())},toggleClockPosition:function(){this.toggleFeatureDebug("clockPosition")?this.updateClockPosition():this.reloadPage(500)},updateClockPosition:function(){let e=document.documentElement.clientHeight;(e+212)/2+30>e-510&&$(".center").css({top:"unset",bottom:"540px",left:0,transform:"unset"})},toggleLocalSale:function(){localStorage.getItem("sale:force")?localStorage.removeItem("sale:force"):localStorage.setItem("sale:force","true")},toggleFeatureDebug:function(e){if(!e)return console.error("featureName not defined"),!1;let t=this.getDebugKeyName(e),o=m.utils.toggleLocalStorageBool(t);return this.logBool(o,t),o},getFeatureDebug:function(e){let t=this.getDebugKeyName(e);return m.utils.getLocalStorageBool(t)},getDebugKeyName:function(e){return"debug"+m.utils.capitalizeFirstLetter(e)},nextThemeFont:function(){this.cycleThemeArray(!0,!0)},prevThemeFont:function(){this.cycleThemeArray(!0,!1)},triggerNewDay:function(){this.log("trigger newDay event",5),m.trigger("newDay")},toggleCssDebug:function(){let e=this.toggleFeatureDebug("css");$("body").toggleClass("debug",e)},togglePercentClock:function(){m.models.customization.get("percentClock")||m.models.customization.save("percentClock",!0),this.logBool(m.models.customization.get("percentClock"),"percent clock")},toggleClockFormat:function(){m.models.customization.save("hour12clock",!m.models.customization.get("hour12clock")),this.logBool(m.models.customization.get("hour12clock"),"12h clock")},toggleBalanceMode:function(){let e=!n.balanceMode.enabled;n.balanceMode={...n.balanceMode,enabled:e},this.logBool(e,"balance")},toggleMantras:function(){m.models.mantraManager.toggleEnabled(m.conditionalFeatures.featureEnabled("plus")),this.logBool(m.models.mantraManager.isEnabled(),"mantras")},resetMantrasToOnboard:function(){m.models.mantraSettings.save("firstMantraActivated",!1),i.log("➜ Mantras have been reset to the onboarding state. Custom mantras (if any) have not been deleted.",4)},cycleThemeArray:function(e,t){if(!this.isPlusUser()&&e)return;let o=e?"themeFont":"themeColour",n=e?this.getThemeFonts():this.getThemeColors(),s=t?m.utils.getNextIndex:m.utils.getPrevIndex,i=m.models.customization.get(o),l=s(n,n.indexOf(i)),r=n[l],a=(e?"FONT ":"THEME ")+(l+1)+": "+r;return m.models.customization.save(o,r),this.log(a,8),a},getThemeFonts:function(){return["default","startup","modern","warehouse","retro","quirky","writer","cute"]},getThemeColors:function(){return this.isPlusUser()?["dark","light","photo","custom"]:["dark","light"]},isPlusUser:function(){let e=!0;return m.conditionalFeatures.featureEnabled("plus")||(console.error("Free user"),e=!1),e},log:function(e,t,o){let n="margin-left: -3px; padding: 3px; border-radius: 1px; color: #111111; ";void 0===t&&(t=0),0===t?n+="background: rgb(255,255,255)":1===t?n+="background: rgb(32,214,141);":2===t?n+="background: rgb(249,155,129);":3===t?n+="background-color: #ecea65;":4===t?n+="background-color: #0cf4ad;":5===t?n+="background-color: #e5d3b8;":6===t?n+="background-color: #f4d06f;":7===t?n+="background-color: #00d8ff;":8===t?n+="background-color: #05a6db;":9===t?n+="background-color: #d8Bfd8;":10===t?n+="background-color: #ff8db4;":11===t?n+="background-color: rgb(235,235,235)":12===t?n+="background-color: rgb(190,190,190)":13===t&&(n+="background-color: rgb(145,145,145)"),void 0===o&&m.devToolsPersonal&&void 0!==m.devToolsPersonal.timestampDigits&&(o=m.devToolsPersonal.timestampDigits),void 0!==o&&(e=this.getTimestamp(new Date,o)+"s ⋅ "+e),console.log("%c"+e,n)},testLog:function(){for(let e=0;e<14;e++)this.log("hello world",e)},getTimestamp:function(e,t){void 0===t&&(t=1);let o=Math.pow(10,t),n=e.getSeconds()+e.getMilliseconds()/1e3,s=parseFloat(Math.round(n*o)/o).toFixed(t);return"."!==s.slice(1,2)&&1!==s.length||(s="0"+s),s},logBool:function(e,t){this.log((t?t+": ":"")+e,e?1:"")},logString:function(e,t,o){if(void 0===e)return void console.warn("logString: `s` is undefined");void 0===t&&(t="-"),void 0===o&&(o=0);let n="  • "+(""+e.length).padStart(2," ")+" • ";this.log(t.padEnd(20," ")+n+this.wrapStringInDelimiter(e),o)},wrapStringInDelimiter:function(e){return this.stringDebugDelimiter+e+this.stringDebugDelimiter},resetLocalStorage:function(e){let t=[];for(let o=0;o<localStorage.length;o++)localStorage.key(o).startsWith(e)&&t.push(localStorage.key(o));t.forEach((function(e){localStorage.removeItem(e)})),window.location.reload()},cssHelper:function(e,t){void 0===t&&(t=3);let o={},n="",s=this,i=e[0];0===t?o=["display","opacity"]:1===t?o=["height","width","margin","padding","display","opacity"]:2===t&&(o=["height","width","margin","padding","border","display","float","opacity","position","top","right","bottom","left"]),$.isEmptyObject(o)||(_.each(o,(function(t){n+=s.cssLogHelper(e,t)+"\n"})),console.log(n)),3===t&&console.log("offset   :",e.offset(),"\nposition :",e.position(),"\nheights  :",{height:e.height(),inner:e.innerHeight(),outer:e.outerHeight()},"\nwidths   :",{width:e.width(),inner:e.innerWidth(),outer:e.width()},"\nscroll   :",{scrollTop:e.scrollTop(),scrollHeight:i.scrollHeight,scrollLeft:e.scrollLeft(),scrollWidth:i.scrollWidth})},cssLogHelper:function(e,t){return t.padEnd(10)+": "+e.css(t)},logDate:function(e,t){let o=("00"+e.getSeconds()).slice(-2)+"."+("000"+e.getMilliseconds()).slice(-3);t&&(o+=" - "+t),this.log(o)},formatDate:function(e,t,o,n){let s=m.utils.twoDigit(e.getDate())+" "+m.utils.getDayName(e,!0)+" "+m.utils.twoDigit(e.getHours())+":"+m.utils.twoDigit(e.getMinutes());return o&&(s=m.utils.twoDigit(e.getMonth()+1)+"-"+s),t&&(s=e.getFullYear()+"-"+s),n&&(s+=":"+m.utils.twoDigit(e.getSeconds())),s},formatMs:function(e){return(e/m.utils.mConst("msPerDay")).toFixed(3)},createDate:function(e,t,o,n){let s,i=new Date;return void 0===e?s=i:(void 0===o&&(o=0),void 0===n&&(n=0),s=new Date(i.getFullYear(),e,t,o,n,0,0,0)),s},todoListPrinter:function(e){let t={};function o(e,t,o){this.Title=e,this.Id=t,this.Order=o}e.itemCollection.models.forEach((function(e,n){let s=e.get("title"),i=e.get("id"),l=e.get("order");t[n]=new o(s,i,l)})),console.table(t)},devCountdownRunTests:function(){this.devCountdownTestDriver(!1,new Date(2018,7,22,15,30,0),new Date(2018,7,25,17,12,44,784)),this.devCountdownTestDriver(!0,new Date(2018,7,22,15,30,0),new Date(2018,7,25,17,12,44,784))},devCountdownTestDriver:function(e,t,o,n){i.log("devCountdownTestDriver",6);let s,l,r,a,g,c=this.collection.models[0],u=[],d=(y=t,(o.valueOf()-y.valueOf())/m.utils.mConst("msPerHour")),h=60*d,f=void 0===n?180:n;var y;c.save("hasHours",e),e||(o=new Date(o.setHours(m.utils.mConst("dateRolloverHour"),0,0,0))),console.log("Start   : "+i.formatDate(t,!0,!0)),console.log("End     : "+i.formatDate(o,!0,!0)+", hasHours: "+(e?"✅":"❌")),console.log("Diff    : "+d+"h");for(let b=0;b<h+f;b++)a=m.utils.dateAdd(t,"minute",b),s=c.formatTime(a,o),l=(s.number+s.unit).padStart(7," ")+"   ",r=[i.formatDate(a,!0,!0),i.formatDate(o,!1,!1),l,JSON.stringify(s.timeData)],u.push(r);i.log("Test results",3);for(let i=0;i<u.length;i++)g=u[i],(0===i||i>0&&u[i-1][2]!==g[2])&&console.log(g);i.log("\n\n")},toggleLoggingMEvents(){let e=this;if(this.loggingMEvents){this.log("stop logging m events!",2),m.off("all");Object.keys(m.models).forEach((e=>{m.models[e].off&&m.models[e].off("all")})),this.loggingMEvents=!1}else{this.log("logging m events!",2),m.on("all",(function(t){e.log("m: "+t,0)}));Object.keys(m.models).forEach((t=>{m.models[t].on&&m.models[t].on("all",(function(o){e.log("m.models."+t+": "+o,0)}))})),this.loggingMEvents=!0}},getPerformancePaintTimes(){let e="mPerformancePaintStats",t={};localStorage.getItem(e)?t=localStorage.getObject(e):(t.firstContentfulPaints=[],t.largestContentfulPaints=[]);let o=e=>e.reduce(((e,t)=>e+t))/e.length;if("PerformanceObserver"in window){new PerformanceObserver((e=>{e.getEntries().forEach((e=>{this.log(`${e.name}: ${e.startTime}`,9),"first-contentful-paint"===e.name&&(t.firstContentfulPaints.push(e.startTime),this.log(`average-${t.firstContentfulPaints.length}-first-contentful-paint: ${o(t.firstContentfulPaints)}`,9))}))})).observe({entryTypes:["paint"]}),new PerformanceObserver((n=>{n.getEntries().forEach((n=>{this.log(`${n.entryType}: ${n.startTime}`,8),t.largestContentfulPaints.push(n.startTime),localStorage.setObject(e,t),this.log(`average-${t.largestContentfulPaints.length}-largest-contentful-paint: ${o(t.largestContentfulPaints)}`,8)}))})).observe({entryTypes:["largest-contentful-paint"]})}},triggerFlashMessage(){const e=["You are awesome!","Did you know that bees are bugs?","I sure hope this works…"];o.$emit("flashMessage",{message:e[m.utils.getRandomIntBetween(0,e.length-1)]})},triggerFlashError(){const e=["Oops!","I think we forgot to consider that case.","I'm terribly sorry."];o.$emit("flashMessage",{message:e[m.utils.getRandomIntBetween(0,e.length-1)],error:!0})},triggerConfettiMessage(){o.$emit("flashMessage",{message:"Yahooo!",icon:t,buttons:[{text:"This doesn't do anything",action:()=>{},dismissOnClick:!0,cssClasses:["button-link"]}],closeButtonEnabled:!1,persist:!0,confetti:!0})},tabStashSeedOtherBrowserTestData(){$.ajax({type:"POST",url:s+"tabs",data:JSON.stringify({id:m.utils.uuidv4(),windows:[{tabsAndGroups:[{type:"Tab",key:1,title:"Add-ons Manager",url:"chrome://newtab/",pinned:!1,index:0},{type:"Tab",key:7,title:"Momentum",url:"https://momentumdash.com",pinned:!1,index:1}],key:3,activeTabKey:7,state:"normal",type:"normal",left:1979,top:12,width:1831,height:1173}],deleted:!1,name:(m.utils.isFirefox()?"chrome":"moz")+" session",activeWindowKey:3,browser:m.utils.isFirefox()?"chrome":"moz",dateCreated:new Date(1682005342175).toISOString()}),success:()=>o.$emit("flashMessage",{message:"session sent to the API"})})},focusModeSetCapacityLimitTally(){(async()=>{const{useFocusModeSessionStore:t}=await e((async()=>{const{useFocusModeSessionStore:e}=await import("./index-DM3Q2nkp.js").then((e=>e.f));return{useFocusModeSessionStore:e}}),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]));t().update({capacityLimitInfo:{msUsed:354e4,date:(new Date).toISOString().substring(0,10)}}),o.$emit("flashMessage",{message:"Focus mode tally successfully set to 59 minutes"})})()}});const i=m.devTools=new m.models.DevTools;